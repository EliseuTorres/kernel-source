From: Eliad Peller <eliad@wizery.com>
Date: Wed, 11 Jun 2014 10:23:35 +0300
Subject: regulatory: fix misapplied alpha2 fix
Patch-mainline: queued for the next stable-3.12
References: stable-3.12

Upstream commit a5fe8e7695dc3f547e955ad2b662e3e72969e506 (regulatory:
add NUL to alpha2) contained a hunk that was supposed to be applied to
struct ieee80211_reg_rule.  However in stable 3.12 (3.12.31 in
particular), it ended up in struct regulatory_request. Fix that now.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
Cc: Eliad Peller <eliadx.peller@intel.com>
Cc: Johannes Berg <johannes.berg@intel.com>
---
 include/net/regulatory.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/include/net/regulatory.h b/include/net/regulatory.h
index 23a019668705..3e827aad1ec6 100644
--- a/include/net/regulatory.h
+++ b/include/net/regulatory.h
@@ -78,7 +78,7 @@ struct regulatory_request {
 	int wiphy_idx;
 	enum nl80211_reg_initiator initiator;
 	enum nl80211_user_reg_hint_type user_reg_hint_type;
-	char alpha2[3];
+	char alpha2[2];
 	u8 dfs_region;
 	bool intersect;
 	bool processed;
@@ -106,7 +106,7 @@ struct ieee80211_reg_rule {
 struct ieee80211_regdomain {
 	struct rcu_head rcu_head;
 	u32 n_reg_rules;
-	char alpha2[2];
+	char alpha2[3];
 	u8 dfs_region;
 	struct ieee80211_reg_rule reg_rules[];
 };
-- 
2.1.2

