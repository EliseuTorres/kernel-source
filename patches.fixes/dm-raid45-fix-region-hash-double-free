From: Nikanth Karthikesan <knikanth@suse.de>
Subject: Fix region hash double free when context_alloc fails
Patch-mainline: No
References: bnc#565962

Fix region hash double free when context_alloc fails.

Signed-off-by: Nikanth Karthikesan <knikanth@suse.de>

Index: linux-2.6.32-SLE11-SP1/drivers/md/dm-raid45.c
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/drivers/md/dm-raid45.c
+++ linux-2.6.32-SLE11-SP1/drivers/md/dm-raid45.c
@@ -3494,7 +3494,6 @@ bad_sc:
 bad_dm_io_client:
 	ti->error = DM_MSG_PREFIX "Error allocating dm-io resources";
 free:
-	dm_region_hash_destroy(rec->rh);
 	sc_exit(&rs->sc);
 	dm_region_hash_destroy(rec->rh); /* Destroys dirty log as well. */
 free_rs:
