From: Dan Carpenter <dan.carpenter@oracle.com>
Date: Tue, 17 Jan 2012 10:48:43 +0000
Subject: inetpeer: initialize ->redirect_genid in inet_getpeer()
Patch-mainline: v3.3-rc1
Git-commit: 10ec1bb7e9eb462548f14dd53c73e927a3ddf31c
References: bnc#860593

kmemcheck complains that ->redirect_genid doesn't get initialized.
Presumably it should be set to zero.

Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Michal Kubecek <mkubecek@suse.cz>

---
 net/ipv4/inetpeer.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/net/ipv4/inetpeer.c b/net/ipv4/inetpeer.c
index a23bbcd..85a528f 100644
--- a/net/ipv4/inetpeer.c
+++ b/net/ipv4/inetpeer.c
@@ -556,6 +556,7 @@ found:		/* The existing node has been found.
 		p->rate_last = 0;
 		p->pmtu_expires = 0;
 		p->pmtu_orig = 0;
+		p->redirect_genid = 0;
 		memset(&p->redirect_learned, 0, sizeof(p->redirect_learned));
 		p->base = base;
 		p->base_padding = NULL;
-- 
1.8.4.5

