From: Hannes Reinecke <hare@suse.de>
Subject: Wrong annotation for dmar_ir_support()
Patch-Mainline: v2.6.35-rc1
Git-commit: 0b8973a81876d90f916507ac40d1381068dc986a

All referencing functions are marked as __init, and
dmar_tbl is marked as __initdata.
So this function should be marked as __init, too,
or the buildsystem will barf.

Signed-off-by: Hannes Reinecke <hare@suse.de>

diff --git a/drivers/pci/dmar.c b/drivers/pci/dmar.c
index 172f911..fb0a6c6 100644
--- a/drivers/pci/dmar.c
+++ b/drivers/pci/dmar.c
@@ -1413,7 +1413,7 @@ int dmar_reenable_qi(struct intel_iommu *iommu)
 /*
  * Check interrupt remapping support in DMAR table description.
  */
-int dmar_ir_support(void)
+int __init dmar_ir_support(void)
 {
 	struct acpi_table_dmar *dmar;
 	dmar = (struct acpi_table_dmar *)dmar_tbl;


