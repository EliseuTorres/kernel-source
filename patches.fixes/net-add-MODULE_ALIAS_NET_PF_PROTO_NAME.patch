From: Neil Horman <nhorman@tuxdriver.com>
Date: Tue, 29 May 2012 09:30:40 +0000
Subject: net: add MODULE_ALIAS_NET_PF_PROTO_NAME
Patch-mainline: v3.5-rc1
Git-commit: 2033e9bf06f07e049bbc77e9452856df846714cc
References: FATE#318825

The MODULE_ALAIS_NET_PF macro set is missing a variant that allows for the
appending of an arbitrary string to the net-pf-<x>-proto-<y> base.  while
MODULE_ALIAS_NET_PF_PROTO_NAME_TYPE allows an appending of a numerical type, we
need to be able to append a generic string to support generic netlink families
that have neither a fix numberical protocol nor type number

Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
CC: Eric Dumazet <eric.dumazet@gmail.com>
CC: David Miller <davem@davemloft.net>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Benjamin Poirier <bpoirier@suse.de>
---
 include/linux/net.h |    3 +++
 1 file changed, 3 insertions(+)

--- a/include/linux/net.h
+++ b/include/linux/net.h
@@ -289,5 +289,8 @@ extern int kernel_sock_shutdown(struct s
 	MODULE_ALIAS("net-pf-" __stringify(pf) "-proto-" __stringify(proto) \
 		     "-type-" __stringify(type))
 
+#define MODULE_ALIAS_NET_PF_PROTO_NAME(pf, proto, name) \
+	MODULE_ALIAS("net-pf-" __stringify(pf) "-proto-" __stringify(proto) \
+		     name)
 #endif /* __KERNEL__ */
 #endif	/* _LINUX_NET_H */
