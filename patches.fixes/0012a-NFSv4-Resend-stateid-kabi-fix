From: NeilBrown <neilb@suse.de>
Subject: Fix kabi breakage with recent NFS fix
Patch-mainline: no - kabi
References: bnc#888968

These fields don't need to be visible: no module needs to look
at them and would never create these structures.

Acked-by: NeilBrown <neilb@suse.de>
Signed-off-by: Neil Brown <neilb@suse.de>

---
 include/linux/nfs_xdr.h |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

--- linux-3.0-SLE11-SP3.orig/include/linux/nfs_xdr.h
+++ linux-3.0-SLE11-SP3/include/linux/nfs_xdr.h
@@ -448,12 +448,15 @@ struct nfs_readargs {
 	struct nfs_fh *		fh;
 	struct nfs_open_context *context;
 	struct nfs_lock_context *lock_context;
-	nfs4_stateid		stateid;
 	__u64			offset;
 	__u32			count;
 	unsigned int		pgbase;
 	struct page **		pages;
 	struct nfs4_sequence_args	seq_args;
+#ifndef __GENKSYMS__
+	/* External modules do not need to see this */
+	nfs4_stateid		stateid;
+#endif
 };
 
 struct nfs_readres {
@@ -470,7 +473,6 @@ struct nfs_writeargs {
 	struct nfs_fh *		fh;
 	struct nfs_open_context *context;
 	struct nfs_lock_context *lock_context;
-	nfs4_stateid		stateid;
 	__u64			offset;
 	__u32			count;
 	enum nfs3_stable_how	stable;
@@ -478,6 +480,10 @@ struct nfs_writeargs {
 	struct page **		pages;
 	const u32 *		bitmask;
 	struct nfs4_sequence_args	seq_args;
+#ifndef __GENKSYMS__
+	/* External modules do not need to see this */
+	nfs4_stateid		stateid;
+#endif
 };
 
 struct nfs_writeverf {
