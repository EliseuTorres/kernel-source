From: Ankit Jain <jankit@suse.de>
Subject: [PATCH] libfc - fc_block_scsi_eh returns SUCCESS instead of zero
Patch-mainline: To be submitted
References: bnc#722414

Signed-off-by: Ankit Jain <jankit@suse.de>
---
 drivers/scsi/libfc/fc_fcp.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

Index: b/drivers/scsi/libfc/fc_fcp.c
===================================================================
--- a/drivers/scsi/libfc/fc_fcp.c
+++ b/drivers/scsi/libfc/fc_fcp.c
@@ -2020,7 +2020,7 @@ int fc_eh_abort(struct scsi_cmnd *sc_cmd
 	int rval;
 
 	rval = fc_block_scsi_eh(sc_cmd);
-	if (rval)
+	if (rval != SUCCESS)
 		return rval;
 
 	lport = shost_priv(sc_cmd->device->host);
@@ -2072,7 +2072,7 @@ int fc_eh_device_reset(struct scsi_cmnd
 	int rval;
 
 	rval = fc_block_scsi_eh(sc_cmd);
-	if (rval)
+	if (rval != SUCCESS)
 		return rval;
 
 	lport = shost_priv(sc_cmd->device->host);
