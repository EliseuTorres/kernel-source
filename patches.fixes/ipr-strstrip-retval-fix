From: Hannes Reinecke <hare@suse.de>
Subject: Fixup compilation warnings in ipr
Patch-Mainline: Not yet

During kernel compilation the following warnings are issued:
/usr/src/packages/BUILD/kernel-default-2.6.32.11/linux-2.6.32/drivers/scsi/ipr.c
: In function 'ipr_log_enhanced_dual_ioa_error':
/usr/src/packages/BUILD/kernel-default-2.6.32.11/linux-2.6.32/drivers/scsi/ipr.c
:1336: warning: ignoring return value of 'strstrip', declared with attribute warn_unused_result
/usr/src/packages/BUILD/kernel-default-2.6.32.11/linux-2.6.32/drivers/scsi/ipr.c
: In function 'ipr_log_dual_ioa_error':
/usr/src/packages/BUILD/kernel-default-2.6.32.11/linux-2.6.32/drivers/scsi/ipr.c
:1362: warning: ignoring return value of 'strstrip', declared with attribute warn_unused_result

Signed-off-by: Hannes Reinecke <hare@suse.de>

diff --git a/drivers/scsi/ipr.c b/drivers/scsi/ipr.c
index 83a6b92..6c9d5a7 100644
--- a/drivers/scsi/ipr.c
+++ b/drivers/scsi/ipr.c
@@ -1330,12 +1330,13 @@ static void ipr_log_enhanced_dual_ioa_error(struct ipr_ioa_cfg *ioa_cfg,
 					    struct ipr_hostrcb *hostrcb)
 {
 	struct ipr_hostrcb_type_17_error *error;
+	char *reason;
 
 	error = &hostrcb->hcam.u.error.u.type_17_error;
 	error->failure_reason[sizeof(error->failure_reason) - 1] = '\0';
-	strstrip(error->failure_reason);
+	reason = strstrip(error->failure_reason);
 
-	ipr_hcam_err(hostrcb, "%s [PRC: %08X]\n", error->failure_reason,
+	ipr_hcam_err(hostrcb, "%s [PRC: %08X]\n", reason,
 		     be32_to_cpu(hostrcb->hcam.u.error.prc));
 	ipr_log_ext_vpd_compact("Remote IOA", hostrcb, &error->vpd);
 	ipr_log_hex_data(ioa_cfg, error->data,
@@ -1356,12 +1357,13 @@ static void ipr_log_dual_ioa_error(struct ipr_ioa_cfg *ioa_cfg,
 				   struct ipr_hostrcb *hostrcb)
 {
 	struct ipr_hostrcb_type_07_error *error;
+	char *reason;
 
 	error = &hostrcb->hcam.u.error.u.type_07_error;
 	error->failure_reason[sizeof(error->failure_reason) - 1] = '\0';
-	strstrip(error->failure_reason);
+	reason = strstrip(error->failure_reason);
 
-	ipr_hcam_err(hostrcb, "%s [PRC: %08X]\n", error->failure_reason,
+	ipr_hcam_err(hostrcb, "%s [PRC: %08X]\n", reason,
 		     be32_to_cpu(hostrcb->hcam.u.error.prc));
 	ipr_log_vpd_compact("Remote IOA", hostrcb, &error->vpd);
 	ipr_log_hex_data(ioa_cfg, error->data,
