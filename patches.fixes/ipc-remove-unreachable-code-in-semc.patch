From: Amerigo Wang <amwang@redhat.com>
References: bnc#518767
Patch-upstream: should be 2.6.33
Subject: ipc: remove unreachable code
Git-commit: e5cc9c7b1a3e7ae4d700d9fce168fb597bcfe9b6
Patch-mainline: v2.6.33-rc1

This line is unreachable, remove it.

Signed-off-by: WANG Cong <amwang@redhat.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Acked-by: Nick Piggin <npiggin@suse.de>
---

 ipc/sem.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

Index: linux-2.6.27/ipc/sem.c
===================================================================
--- linux-2.6.27.orig/ipc/sem.c
+++ linux-2.6.27/ipc/sem.c
@@ -624,7 +624,7 @@ static unsigned long copy_semid_to_user(
 static int semctl_nolock(struct ipc_namespace *ns, int semid,
 			 int cmd, int version, union semun arg)
 {
-	int err = -EINVAL;
+	int err;
 	struct sem_array *sma;
 
 	switch(cmd) {
@@ -701,7 +701,6 @@ static int semctl_nolock(struct ipc_name
 	default:
 		return -EINVAL;
 	}
-	return err;
 out_unlock:
 	sem_unlock(sma);
 	return err;


