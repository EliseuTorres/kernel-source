Subject: block: export blk_{get,put}_queue()
From: Jens Axboe <jaxboe@fusionio.com>
Date: Fri May 27 07:44:43 2011 +0200
Git-commit: d86e0e83b32bc84600adb0b6ea1fce389b266682
Patch-mainline: v3.0-rc1
References:

We need them in SCSI to fix a bug, but currently they are not
exported to modules. Export them.

Signed-off-by: Jens Axboe <jaxboe@fusionio.com>
Acked-by: Mike Galbraith <mgalbraith@suse.de>

---
 block/blk-core.c |    2 ++
 1 file changed, 2 insertions(+)

Index: linux-2.6.32-SLE11-SP1/block/blk-core.c
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/block/blk-core.c
+++ linux-2.6.32-SLE11-SP1/block/blk-core.c
@@ -310,6 +310,7 @@ void blk_unplug_timeout(unsigned long da
 	trace_block_unplug_timer(q);
 	kblockd_schedule_work(q, &q->unplug_work);
 }
+EXPORT_SYMBOL(blk_put_queue);
 
 void blk_unplug(struct request_queue *q)
 {
@@ -612,6 +613,7 @@ int blk_get_queue(struct request_queue *
 
 	return 1;
 }
+EXPORT_SYMBOL(blk_get_queue);
 
 static inline void blk_free_request(struct request_queue *q, struct request *rq)
 {
