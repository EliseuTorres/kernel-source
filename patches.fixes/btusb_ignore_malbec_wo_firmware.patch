From: Oliver Neukum <oneukum@suse.de>
Subject: ignore BT device before firmware transfer
Patch-mainline: submitted
References: bnc#658353

btusb must ignore the device that doesn't work without its firmware
so that the upload driver can bind in every case.

Signed-off-by: Oliver Neukum <oneukum@suse.de>

--- linux-2.6.32-SLE11-SP1/drivers/bluetooth/btusb.c.old	2011-01-26 08:53:38.178449000 +0100
+++ linux-2.6.32-SLE11-SP1/drivers/bluetooth/btusb.c	2011-01-26 08:55:45.089899000 +0100
@@ -94,6 +94,9 @@ static struct usb_device_id blacklist_ta
 	/* Atheros 3011 with sflash firmware */
 	{ USB_DEVICE(0x0cf3, 0x3002), .driver_info = BTUSB_IGNORE },
 
+        /* Atheros Malbec with sflash firmware */
+        { USB_DEVICE(0x03f0, 0x3002), .driver_info = BTUSB_IGNORE },
+
 	/* Broadcom BCM2035 */
 	{ USB_DEVICE(0x0a5c, 0x2035), .driver_info = BTUSB_WRONG_SCO_MTU },
 	{ USB_DEVICE(0x0a5c, 0x200a), .driver_info = BTUSB_WRONG_SCO_MTU },
