From: Malahal Naineni <malahal@us.ibm.com>
Date: Mon, 27 Jan 2014 15:31:09 -0600
Subject: nfs: initialize the ACL support bits to zero.
Git-commit: a1800acaf7d1c2bf6d68b9a8f4ab8560cc66555a
Patch-mainline: v3.14
References: bnc#868900

Avoid returning incorrect acl mask attributes when the server doesn't
support ACLs.

Signed-off-by: Malahal Naineni <malahal@us.ibm.com>
Signed-off-by: Trond Myklebust <trond.myklebust@primarydata.com>
Acked-by: NeilBrown <neilb@suse.de>

---
 fs/nfs/nfs4xdr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- linux-3.12-SLE12.orig/fs/nfs/nfs4xdr.c
+++ linux-3.12-SLE12/fs/nfs/nfs4xdr.c
@@ -3405,7 +3405,7 @@ static int decode_attr_aclsupport(struct
 {
 	__be32 *p;
 
-	*res = ACL4_SUPPORT_ALLOW_ACL|ACL4_SUPPORT_DENY_ACL;
+	*res = 0;
 	if (unlikely(bitmap[0] & (FATTR4_WORD0_ACLSUPPORT - 1U)))
 		return -EIO;
 	if (likely(bitmap[0] & FATTR4_WORD0_ACLSUPPORT)) {
