Git-commit: c297c8b99b07f496ff69a719cfb8e8fe852832ed
From: Andy Adamson <andros@netapp.com>
Date: Wed, 20 Nov 2013 13:00:17 -0500
Subject: SUNRPC: do not fail gss proc NULL calls with EACCES
Patch-mainline: v3.13
References: bnc#868881

Otherwise RPCSEC_GSS_DESTROY messages are not sent.

Signed-off-by: Andy Adamson <andros@netapp.com>
Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
Acked-by: NeilBrown <neilb@suse.de>

---
 net/sunrpc/auth_gss/auth_gss.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- linux-3.12-SLE12.orig/net/sunrpc/auth_gss/auth_gss.c
+++ linux-3.12-SLE12/net/sunrpc/auth_gss/auth_gss.c
@@ -1499,7 +1499,7 @@ out:
 static int
 gss_refresh_null(struct rpc_task *task)
 {
-	return -EACCES;
+	return 0;
 }
 
 static __be32 *
