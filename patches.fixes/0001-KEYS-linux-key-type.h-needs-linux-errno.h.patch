From 5935e6dcaaa8f666dd7f1169fa87d36752ebeb94 Mon Sep 17 00:00:00 2001
From: David Howells <dhowells@redhat.com>
Date: Mon, 23 Jul 2012 15:37:31 +0100
Subject: [PATCH] KEYS: linux/key-type.h needs linux/errno.h
Git-commit: 5935e6dcaaa8f666dd7f1169fa87d36752ebeb94
Patch-mainline: v3.6-rc1

linux/key-type.h needs to #include linux/errno.h as it refers to ENOKEY.
Without this, with sparc's allmodconfig in one of my test trees, the following
error occurs:

include/linux/key-type.h: In function 'key_negate_and_link':
include/linux/key-type.h:122:43: error: 'ENOKEY' undeclared (first use in this function)
include/linux/key-type.h:122:43: note: each undeclared identifier is reported only once for each fun

Reported-by: Fengguang Wu <fengguang.wu@intel.com>
Signed-off-by: David Howells <dhowells@redhat.com>
Signed-off-by: James Morris <james.l.morris@oracle.com>
Acked-by: Michal Marek <mmarek@suse.cz>

---
 include/linux/key-type.h |    1 +
 1 file changed, 1 insertion(+)

diff --git a/include/linux/key-type.h b/include/linux/key-type.h
index 39e3c08..f0c651c 100644
--- a/include/linux/key-type.h
+++ b/include/linux/key-type.h
@@ -13,6 +13,7 @@
 #define _LINUX_KEY_TYPE_H
 
 #include <linux/key.h>
+#include <linux/errno.h>
 
 #ifdef CONFIG_KEYS
 
-- 
1.7.10.4

