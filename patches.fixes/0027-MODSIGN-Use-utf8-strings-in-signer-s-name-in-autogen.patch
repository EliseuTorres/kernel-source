From: David Howells <dhowells@redhat.com>
Date: Fri, 28 Sep 2012 11:16:57 +0100
Subject: [PATCH 27/27] MODSIGN: Use utf8 strings in signer's name in autogenerated X.509 certs
Git-commit: e7d113bcf243a838ba1c32025172ab214349dfad
Patch-mainline: v3.7-rc1
References: fate#314508
Target: SLE-11 SP3

Place an indication that the certificate should use utf8 strings into the
x509.genkey template generated by kernel/Makefile.

Signed-off-by: David Howells <dhowells@redhat.com>
Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 kernel/Makefile |    1 +
 1 file changed, 1 insertion(+)

--- a/kernel/Makefile
+++ b/kernel/Makefile
@@ -203,6 +203,7 @@ x509.genkey:
 	@echo >>x509.genkey "default_bits = 4096"
 	@echo >>x509.genkey "distinguished_name = req_distinguished_name"
 	@echo >>x509.genkey "prompt = no"
+	@echo >>x509.genkey "string_mask = utf8only"
 	@echo >>x509.genkey "x509_extensions = myexts"
 	@echo >>x509.genkey
 	@echo >>x509.genkey "[ req_distinguished_name ]"
