From: Johannes Berg <johannes.berg@intel.com>
Date: Tue, 10 Jul 2012 06:18:44 +0000
Subject: [PATCH v2] etherdevice: introduce eth_broadcast_addr
Patch-mainline: v3.6-rc1
Git-commit: ad7eee98bef92481581060801bdfd1b25a6106c0
References: bsc#909618 FATE#317521

A lot of code has either the memset or an inefficient copy
from a static array that contains the all-ones broadcast
address. Introduce eth_broadcast_addr() to fill an address
with all ones, making the code clearer and allowing us to
get rid of some constant arrays.

Signed-off-by: Johannes Berg <johannes.berg@intel.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Refreshed, fix conflict with
984f95a etherdevice: introduce help function eth_zero_addr() (fate#317388, bsc#909491).
Acked-by: David Chang <dchang@suse.com>
---
 include/linux/etherdevice.h |   11 +++++++++++
 1 file changed, 11 insertions(+)

--- a/include/linux/etherdevice.h
+++ b/include/linux/etherdevice.h
@@ -161,6 +161,17 @@ static inline void eth_random_addr(u8 *a
 #define random_ether_addr(addr) eth_random_addr(addr)
 
 /**
+ * eth_broadcast_addr - Assign broadcast address
+ * @addr: Pointer to a six-byte array containing the Ethernet address
+ *
+ * Assign the broadcast address to the given address array.
+ */
+static inline void eth_broadcast_addr(u8 *addr)
+{
+	memset(addr, 0xff, ETH_ALEN);
+}
+
+/**
  * eth_zero_addr - Assign zero address
  * @addr: Pointer to a six-byte array containing the Ethernet address
  *
