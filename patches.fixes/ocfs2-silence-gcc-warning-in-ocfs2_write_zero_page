From joel.becker@oracle.com  Fri Sep 24 14:30:46 2010
From: Joel Becker <joel.becker@oracle.com>
Date: Wed, 1 Sep 2010 14:20:13 -0700
Subject: [PATCH 283/314] ocfs2: Silence gcc warning in ocfs2_write_zero_page().
Oracle-commit: 73af5391a3924b036b33e6157733a91966892019
Git-commit: 5453258d532e72731b0829e4fefd36dd611a2fff
Patch-mainline: 2.6.35-rc6

Mainline commit 5453258d532e72731b0829e4fefd36dd611a2fff

ocfs2_write_zero_page() has a loop that won't ever be skipped, but gcc
doesn't know that.  Set ret=0 just to make gcc happy.

Signed-off-by: Joel Becker <joel.becker@oracle.com>
Acked-by: Jeff Mahoney <jeffm@suse.com>
Signed-off-by: Mark Fasheh <mfasheh@suse.com>
---
 fs/ocfs2/file.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/fs/ocfs2/file.c b/fs/ocfs2/file.c
index e6ece91..95d09a8 100644
--- a/fs/ocfs2/file.c
+++ b/fs/ocfs2/file.c
@@ -769,7 +769,7 @@ static int ocfs2_write_zero_page(struct inode *inode, u64 abs_from,
 	struct page *page;
 	unsigned long index = abs_from >> PAGE_CACHE_SHIFT;
 	handle_t *handle = NULL;
-	int ret;
+	int ret = 0;
 	unsigned zero_from, zero_to, block_start, block_end;
 
 	BUG_ON(abs_from >= abs_to);
-- 
1.7.1

