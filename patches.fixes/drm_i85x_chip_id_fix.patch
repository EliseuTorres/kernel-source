From: Adam Jackson <ajax@redhat.com>
Subject: drm/i915: Fix 82854 PCI ID, and treat it like other 85X
References: bnc #677443
Patch-Mainline: Yes
Git-commit: 5ce8ba7c9279a63f99e1f131602580472b8af968


Signed-off-by: Egbert Eich <eich@suse.de>

pci.ids and the datasheet both say it's 358e, not 35e8.

Signed-off-by: Adam Jackson <ajax@redhat.com>
Signed-off-by: Eric Anholt <eric@anholt.net>

---
 drivers/gpu/drm/i915/i915_drv.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

Index: linux-2.6.32-SLE11-SP1/drivers/gpu/drm/i915/i915_drv.h
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/drivers/gpu/drm/i915/i915_drv.h	2011-07-11 08:32:13.000000000 +0000
+++ linux-2.6.32-SLE11-SP1/drivers/gpu/drm/i915/i915_drv.h	2011-07-11 09:31:47.000000000 +0000
@@ -991,8 +991,8 @@
 
 #define IS_I830(dev) ((dev)->pci_device == 0x3577)
 #define IS_845G(dev) ((dev)->pci_device == 0x2562)
-#define IS_I85X(dev) ((dev)->pci_device == 0x3582)
-#define IS_I855(dev) ((dev)->pci_device == 0x3582)
+#define IS_I85X(dev) ((dev)->pci_device == 0x3582 || (dev)->pci_device == 0x358e)
+#define IS_I855(dev) ((dev)->pci_device == 0x3582 || (dev)->pci_device == 0x358e)
 #define IS_I865G(dev) ((dev)->pci_device == 0x2572)
 #define IS_I8XX(dev) (IS_I830(dev) || IS_845G(dev) || IS_I85X(dev) || IS_I865G(dev))
 
