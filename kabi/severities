# KABI rules for symbols and modules
#
# A matching line with PASS allows kabi changes for given modules or symbols,
# FAIL causes an error. The first matching line is considered, the default is
# FAIL if no match is found.
#
# A pattern that contains slashes is matched against the module name a given
# symbol is exported from. The special pattern "vmlinux" matches built-in
# symbols. All other patterns match against symbol names.

drivers/message/fusion/*	PASS
drivers/staging/*		PASS

# only protect a subset of the kabi for now
__bitmap_weight			FAIL
__check_region			FAIL
__const_udelay			FAIL
__kmalloc			FAIL
__netif_schedule		FAIL
__pci_register_driver		FAIL
__per_cpu_offset		FAIL
__release_region		FAIL
__request_module		FAIL
__request_region		FAIL
__symbol_get			FAIL
__symbol_put			FAIL
__tasklet_schedule		FAIL
__tracepoint_kmalloc		FAIL
__tracepoint_module_get		FAIL
__udelay			FAIL
__wake_up			FAIL
_ctype				FAIL
_spin_lock			FAIL
_spin_lock_bh			FAIL
_spin_lock_irqsave		FAIL
_spin_unlock_bh			FAIL
_spin_unlock_irqrestore		FAIL
add_timer			FAIL
alloc_netdev_mq			FAIL
capable				FAIL
consume_skb			FAIL
copy_from_user			FAIL
copy_to_user			FAIL
cpu_online_mask			FAIL
create_proc_entry		FAIL
del_timer			FAIL
dev_alloc_skb			FAIL
dev_get_drvdata			FAIL
dev_kfree_skb_any		FAIL
dev_set_drvdata			FAIL
dma_alloc_from_coherent		FAIL
dma_ops				FAIL
dma_release_from_coherent	FAIL
do_SAK				FAIL
do_gettimeofday			FAIL
eth_type_trans			FAIL
ether_setup			FAIL
filp_close			FAIL
filp_open			FAIL
free_irq			FAIL
free_netdev			FAIL
handle_sysrq			FAIL
init_timer_key			FAIL
iomem_resource			FAIL
ioport_resource			FAIL
ioremap_nocache			FAIL
iounmap				FAIL
jiffies				FAIL
kernel_read			FAIL
kfree				FAIL
kmem_cache_alloc		FAIL
lib80211_get_crypto_ops		FAIL
malloc_sizes			FAIL
memmove				FAIL
module_layout			FAIL
module_put			FAIL
msecs_to_jiffies		FAIL
msleep				FAIL
native_io_delay			FAIL
netif_rx			FAIL
netpoll_trap			FAIL
node_data			FAIL
param_get_int			FAIL
param_get_string		FAIL
param_set_copystring		FAIL
param_set_int			FAIL
pci_bus_read_config_byte	FAIL
pci_bus_read_config_dword	FAIL
pci_bus_read_config_word	FAIL
pci_bus_write_config_byte	FAIL
pci_bus_write_config_dword	FAIL
pci_bus_write_config_word	FAIL
pci_disable_device		FAIL
pci_enable_device		FAIL
pci_find_bus			FAIL
pci_get_device			FAIL
pci_get_slot			FAIL
pci_restore_state		FAIL
pci_save_state			FAIL
pci_set_master			FAIL
pci_set_power_state		FAIL
pci_unregister_driver		FAIL
per_cpu__cpu_number		FAIL
physnode_map			FAIL
printk				FAIL
probe_irq_off			FAIL
probe_irq_on			FAIL
queue_delayed_work		FAIL
register_netdev			FAIL
release_resource		FAIL
remove_proc_entry		FAIL
request_threaded_irq		FAIL
schedule			FAIL
schedule_work			FAIL
skb_clone			FAIL
skb_pull			FAIL
skb_push			FAIL
skb_put				FAIL
snd_cards			FAIL
snd_hda_codec_read		FAIL
snd_hda_codec_write		FAIL
snprintf			FAIL
sprintf				FAIL
strchr				FAIL
strcmp				FAIL
strcpy				FAIL
strlen				FAIL
strncmp				FAIL
strncpy				FAIL
strrchr				FAIL
tasklet_init			FAIL
tasklet_kill			FAIL
tty_flip_buffer_push		FAIL
tty_hangup			FAIL
tty_insert_flip_string_flags	FAIL
uart_add_one_port		FAIL
uart_get_baud_rate		FAIL
uart_get_divisor		FAIL
uart_register_driver		FAIL
uart_remove_one_port		FAIL
uart_resume_port		FAIL
uart_suspend_port		FAIL
uart_unregister_driver		FAIL
uart_update_timeout		FAIL
uart_write_wakeup		FAIL
unregister_netdev		FAIL
vfree				FAIL
vmalloc				FAIL
vsnprintf			FAIL
vsprintf			FAIL
warn_slowpath_null		FAIL
wireless_send_event		FAIL
x86_dma_fallback_dev		FAIL
*				PASS

