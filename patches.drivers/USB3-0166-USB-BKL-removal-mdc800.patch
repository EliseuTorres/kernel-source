From 5a207b431174ecc8f995230d19c79242160b8888 Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oliver@neukum.org>
Date: Thu, 14 Jan 2010 16:10:05 +0100
Subject: USB: BKL removal: mdc800
Patch-mainline: v2.6.34
Git-commit: 5a207b431174ecc8f995230d19c79242160b8888

BKL not needed at all. Removed without replacement.

Signed-off-by: Oliver Neukum <oliver@neukum.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/image/mdc800.c |    3 ---
 1 file changed, 3 deletions(-)

--- a/drivers/usb/image/mdc800.c
+++ b/drivers/usb/image/mdc800.c
@@ -96,7 +96,6 @@
 #include <linux/module.h>
 #include <linux/wait.h>
 #include <linux/mutex.h>
-#include <linux/smp_lock.h>
 
 #include <linux/usb.h>
 #include <linux/fs.h>
@@ -623,7 +622,6 @@ static int mdc800_device_open (struct in
 	int retval=0;
 	int errn=0;
 
-	lock_kernel();
 	mutex_lock(&mdc800->io_lock);
 	
 	if (mdc800->state == NOT_CONNECTED)
@@ -662,7 +660,6 @@ static int mdc800_device_open (struct in
 
 error_out:
 	mutex_unlock(&mdc800->io_lock);
-	unlock_kernel();
 	return errn;
 }
 
