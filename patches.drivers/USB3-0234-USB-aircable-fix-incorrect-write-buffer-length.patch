From f26c2889a4d937371e2ec9b5690ac407f0496634 Mon Sep 17 00:00:00 2001
From: Johan Hovold <jhovold@gmail.com>
Date: Wed, 19 May 2010 00:01:33 +0200
Subject: USB: aircable: fix incorrect write-buffer length
Patch-mainline: v2.6.35
Git-commit: f26c2889a4d937371e2ec9b5690ac407f0496634

Returned length should include header length.

Signed-off-by: Johan Hovold <jhovold@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/serial/aircable.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/usb/serial/aircable.c
+++ b/drivers/usb/serial/aircable.c
@@ -95,7 +95,7 @@ static int aircable_prepare_write_buffer
 	buf[1] = TX_HEADER_1;
 	put_unaligned_le16(count, &buf[2]);
 
-	return count;
+	return count + HCI_HEADER_LENGTH;
 }
 
 static int aircable_probe(struct usb_serial *serial,
