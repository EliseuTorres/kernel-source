From 268ff6fbe70a4ab3c931caa0fdffc3d49265d135 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Fri, 8 Jul 2011 14:37:35 +0200
Subject: [PATCH] ALSA: hda - Fix auto-mic detection in Realtek codec-parser
Git-commit: 268ff6fbe70a4ab3c931caa0fdffc3d49265d135
Patch-mainline: 3.1-rc2
Refernces: FATE#314106,FATE#314311,FATE#313695

A regression fix from commit 21268961d3d1bbdd22a19b68adb80119e8c72dcd
  ALSA: hda - More flexible dynamic-ADC switching for Realtek codecs

The auto-mic wasn't detected properly when no ADC-switch is needed.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/patch_realtek.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/sound/pci/hda/patch_realtek.c
+++ b/sound/pci/hda/patch_realtek.c
@@ -964,7 +964,7 @@ static bool alc_check_dyn_adc_switch(str
 				break;
 		}
 		if (i >= imux->num_items)
-			return false; /* no ADC-switch is needed */
+			return true; /* no ADC-switch is needed */
 	}
 
 	for (i = 0; i < imux->num_items; i++) {
