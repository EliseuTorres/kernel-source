From: Tomasz Chudy <Tomasz.Chudy@intel.com>
Date: Wed, 23 Feb 2011 00:08:49 -0800
Subject: [PATCH 023/273] isci: fix "no outbound task timeout" default value
Git-commit: 06fdb3286270a45d05b15db46416b2fe2f52583a
References: FATE#311808,bnc#709528
Patch-Mainline: 3.0

The default should be 5us.  The hardware encodes it in 256ns increments,
so the value should be 20 to approximate a 5us timeout.

Signed-off-by: Tomasz Chudy <Tomasz.Chudy@intel.com>
Signed-off-by: Jacek Danecki <Jacek.Danecki@intel.com>
Signed-off-by: Dan Williams <dan.j.williams@intel.com>
Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/isci/core/scic_sds_controller.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/drivers/scsi/isci/core/scic_sds_controller.c b/drivers/scsi/isci/core/scic_sds_controller.c
index 53861cc..1cbb91c 100644
--- a/drivers/scsi/isci/core/scic_sds_controller.c
+++ b/drivers/scsi/isci/core/scic_sds_controller.c
@@ -1997,8 +1997,7 @@ static void scic_sds_controller_set_default_config_parameters(
 	this_controller->user_parameters.sds1.ssp_inactivity_timeout = 5;
 	this_controller->user_parameters.sds1.stp_max_occupancy_timeout = 5;
 	this_controller->user_parameters.sds1.ssp_max_occupancy_timeout = 20;
-	this_controller->user_parameters.sds1.no_outbound_task_timeout = 5;
-
+	this_controller->user_parameters.sds1.no_outbound_task_timeout = 20;
 }
 
 
-- 
1.6.0.2

