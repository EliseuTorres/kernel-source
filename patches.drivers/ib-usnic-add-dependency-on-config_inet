From: Upinder Malhi <umalhi@cisco.com>
Date: Wed, 15 Jan 2014 17:02:21 -0800
Subject: IB/usnic: Add dependency on CONFIG_INET
Git-commit: 2d97436f5b06217beb6c91a0cd0ae0f0d79b61cc
Patch-mainline: v3.14-rc1
References: FATE #315827

usNIC needs inet notifiers to function correctly, so add a Kconfig
dependency on CONFIG_INET.

Signed-off-by: Upinder Malhi <umalhi@cisco.com>
Signed-off-by: Roland Dreier <roland@purestorage.com>
Acked-by: John Jolly <jjolly@suse.de>
---
 drivers/infiniband/hw/usnic/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/infiniband/hw/usnic/Kconfig b/drivers/infiniband/hw/usnic/Kconfig
index 2cc8ba0..29ab11c 100644
--- a/drivers/infiniband/hw/usnic/Kconfig
+++ b/drivers/infiniband/hw/usnic/Kconfig
@@ -1,6 +1,6 @@
 config INFINIBAND_USNIC
 	tristate "Verbs support for Cisco VIC"
-	depends on NETDEVICES && ETHERNET && PCI && INTEL_IOMMU
+	depends on NETDEVICES && ETHERNET && INET && PCI && INTEL_IOMMU
 	select ENIC
 	select NET_VENDOR_CISCO
 	select PCI_IOV

