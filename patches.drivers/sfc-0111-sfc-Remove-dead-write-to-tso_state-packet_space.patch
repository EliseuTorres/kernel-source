From: Ben Hutchings <bhutchings@solarflare.com>
Date: Tue, 19 Jun 2012 19:57:22 +0100
Subject: sfc: Remove dead write to tso_state::packet_space
Patch-mainline: v3.6-rc1
Git-commit: e718905c4b02bfc650f383e02b643b7e60b9407e
References: bnc#786035 FATE#314299

tso_state::packet_space is always set in tso_start_packet(); the
value set in tso_start() is not used, and is also incorrect.

Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
Acked-by: Benjamin Poirier <bpoirier@suse.de>
---
 drivers/net/ethernet/sfc/tx.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/net/ethernet/sfc/tx.c
+++ b/drivers/net/ethernet/sfc/tx.c
@@ -932,7 +932,6 @@ static void tso_start(struct tso_state *
 	EFX_BUG_ON_PARANOID(tcp_hdr(skb)->syn);
 	EFX_BUG_ON_PARANOID(tcp_hdr(skb)->rst);
 
-	st->packet_space = st->full_packet_size;
 	st->out_len = skb->len - st->header_len;
 	st->unmap_len = 0;
 	st->unmap_single = false;
