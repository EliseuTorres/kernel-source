From: Jiri Pirko <jiri@resnulli.us>
Date: Tue, 8 Jan 2013 01:38:26 +0000
Subject: [PATCH 076/108] remove init of dev->perm_addr in drivers
Patch-mainline: v3.9-rc1
Git-commit: aaeb6cdfa5c07533c2cd6d2c381374c69f7db9dc (partial)
References: bsc#908458 FATE#317507


perm_addr is initialized correctly in register_netdevice() so to init it in
drivers is no longer needed.

Signed-off-by: Jiri Pirko <jiri@resnulli.us>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Cho, Yu-Chen <acho@suse.com>
---
 drivers/net/ethernet/broadcom/tg3.c |    3 ---
 1 file changed, 3 deletions(-)

--- a/drivers/net/ethernet/broadcom/tg3.c
+++ b/drivers/net/ethernet/broadcom/tg3.c
@@ -16593,7 +16593,6 @@ static int tg3_get_macaddr_sparc(struct
 	addr = of_get_property(dp, "local-mac-address", &len);
 	if (addr && len == 6) {
 		memcpy(dev->dev_addr, addr, 6);
-		memcpy(dev->perm_addr, dev->dev_addr, 6);
 		return 0;
 	}
 	return -ENODEV;
@@ -16604,7 +16603,6 @@ static int tg3_get_default_macaddr_sparc
 	struct net_device *dev = tp->dev;
 
 	memcpy(dev->dev_addr, idprom->id_ethaddr, 6);
-	memcpy(dev->perm_addr, idprom->id_ethaddr, 6);
 	return 0;
 }
 #endif
@@ -16688,7 +16686,6 @@ static int tg3_get_device_address(struct
 #endif
 		return -EINVAL;
 	}
-	memcpy(dev->perm_addr, dev->dev_addr, dev->addr_len);
 	return 0;
 }
 
