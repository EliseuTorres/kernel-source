From c470150c537b76d9776a5434f6f8448db8188bd3 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Mon, 7 Nov 2011 14:20:07 +0100
Subject: [PATCH] ALSA: hda/realtek - Convert ALC262 lenovo-3000 quirks to fixup-list
Git-commit: c470150c537b76d9776a5434f6f8448db8188bd3
Patch-mainline: 3.3-rc1
References: FATE#314311

The static quirks for ALC262 Lenovo 3000 can be covered by the auto-
parser with a fixup of the mic-pin to VREF50 and the additional COEF
verb.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/patch_realtek.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

--- a/sound/pci/hda/patch_realtek.c
+++ b/sound/pci/hda/patch_realtek.c
@@ -4356,6 +4356,7 @@ enum {
 	ALC262_FIXUP_HP_Z200,
 	ALC262_FIXUP_TYAN,
 	ALC262_FIXUP_TOSHIBA_RX1,
+	ALC262_FIXUP_LENOVO_3000,
 };
 
 static const struct alc_fixup alc262_fixups[] = {
@@ -4392,6 +4393,16 @@ static const struct alc_fixup alc262_fix
 			{ 0x1e, 0x40f000f0 }, /* N/A */
 		}
 	},
+	[ALC262_FIXUP_LENOVO_3000] = {
+		.type = ALC_FIXUP_VERBS,
+		.v.verbs = (const struct hda_verb[]) {
+			{ 0x19, AC_VERB_SET_PIN_WIDGET_CONTROL, PIN_VREF50 },
+			{ 0x20, AC_VERB_SET_COEF_INDEX, 0x07 },
+			{ 0x20, AC_VERB_SET_PROC_COEF, 0x3070 },
+			{}
+		}
+	},
+
 };
 
 static const struct snd_pci_quirk alc262_fixup_tbl[] = {
@@ -4400,6 +4411,7 @@ static const struct snd_pci_quirk alc262
 	SND_PCI_QUIRK(0x1179, 0x0001, "Toshiba dynabook SS RX1",
 		      ALC262_FIXUP_TOSHIBA_RX1),
 	SND_PCI_QUIRK(0x1734, 0x1147, "FSC Celsius H270", ALC262_FIXUP_FSC_H270),
+	SND_PCI_QUIRK(0x17aa, 0x384e, "Lenovo 3000", ALC262_FIXUP_LENOVO_3000),
 	{}
 };
 
