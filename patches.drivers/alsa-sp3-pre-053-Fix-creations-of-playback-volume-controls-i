From a00a5fad9ddbabc7cd03d143520b9a4730edc75d Mon Sep 17 00:00:00 2001
From: Lydia Wang <lydiawang@viatech.com.cn>
Date: Tue, 21 Jun 2011 16:11:11 +0800
Subject: [PATCH] ALSA: hda - Fix creations of playback volume controls in patch_via.c
Git-commit: a00a5fad9ddbabc7cd03d143520b9a4730edc75d
Patch-mainline: 3.1-rc2
References: FATE#314310

Fix a issue to create playback volume control if pin has amplifier capability
but not DAC.

Signed-off-by: Lydia Wang <lydiawang@viatech.com.cn>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/patch_via.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/sound/pci/hda/patch_via.c
+++ b/sound/pci/hda/patch_via.c
@@ -1632,7 +1632,7 @@ static int create_ch_ctls(struct hda_cod
 	if (nid) {
 		sprintf(name, "%s Playback Volume", pfx);
 		err = via_add_control(spec, VIA_CTL_WIDGET_VOL, name,
-			      HDA_COMPOSE_AMP_VAL(dac, chs, 0, HDA_OUTPUT));
+			      HDA_COMPOSE_AMP_VAL(nid, chs, 0, HDA_OUTPUT));
 		if (err < 0)
 			return err;
 	}
