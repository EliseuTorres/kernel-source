From: Christoph Fritz <chf.fritz@googlemail.com>
Subject: efivars: add missing parameter to efi_pstore_read()
References: none
Patch-Mainline: v3.2-rc4
Git-commit: eee628da2ee3cbba6f14696278c92a464239eea6


Signed-off-by: Thomas Renninger <trenn@suse.de>

In the case where CONFIG_PSTORE=n, the function efi_pstore_read() doesn't
have the correct list of parameters. This patch provides a definition
of efi_pstore_read() with 'char **buf' added to fix this warning:
"drivers/firmware/efivars.c:609: warning: initialization from".

problem introduced in commit f6f8285132907757ef84ef8dae0a1244b8cde6ac

Signed-off-by: Christoph Fritz <chf.fritz@googlemail.com>
Signed-off-by: Tony Luck <tony.luck@intel.com>

diff --git a/drivers/firmware/efivars.c b/drivers/firmware/efivars.c
index a54a6b9..b0a8117 100644
--- a/drivers/firmware/efivars.c
+++ b/drivers/firmware/efivars.c
@@ -581,7 +581,8 @@ static int efi_pstore_close(struct pstore_info *psi)
 }
 
 static ssize_t efi_pstore_read(u64 *id, enum pstore_type_id *type,
-			       struct timespec *time, struct pstore_info *psi)
+			       struct timespec *timespec,
+			       char **buf, struct pstore_info *psi)
 {
 	return -1;
 }
