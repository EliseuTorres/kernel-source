From: Sergey Vlasov <vsu@altlinux.ru>
Date: Tue, 16 Apr 2013 18:31:08 +0400
Subject: [PATCH] x86/Kconfig: Make EFI select UCS2_STRING

Git-commit: f6ce5002629e08eaa777ced3872a98f76845143e
Patch-mainline: Not yet, merged to linux-efi
References: fate#314499, fate#314509
Target: SLE-11 SP3

The commit "efi: Distinguish between "remaining space" and actually used
space" added usage of ucs2_*() functions to arch/x86/platform/efi/efi.c,
but the only thing which selected UCS2_STRING was EFI_VARS, which is
technically optional and can be built as a module.

Signed-off-by: Sergey Vlasov <vsu@altlinux.ru>
Signed-off-by: Matt Fleming <matt.fleming@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 arch/x86/Kconfig |    1 +
 1 file changed, 1 insertion(+)

--- a/arch/x86/Kconfig
+++ b/arch/x86/Kconfig
@@ -1484,6 +1484,7 @@ config ARCH_RANDOM
 config EFI
 	bool "EFI runtime service support"
 	depends on ACPI
+	select UCS2_STRING
 	---help---
 	  This enables the kernel to use EFI runtime services that are
 	  available (such as the EFI variable services).
