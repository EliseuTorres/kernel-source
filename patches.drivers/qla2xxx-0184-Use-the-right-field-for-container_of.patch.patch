From: Arun Easi <arun.easi@qlogic.com>
Date: Wed, 22 Aug 2012 14:21:35 -0400
Subject: [PATCH] [SCSI] qla2xxx: Use the right field for container_of.
Git-commit: 2ad1b67c56c6774ae6cae0d9fb02dec280cd708d
References: FATE#313901
Patch-Mainline: v3.7

Signed-off-by: Arun Easi <arun.easi@qlogic.com>
Signed-off-by: Chad Dupuis <chad.dupuis@qlogic.com>
Signed-off-by: James Bottomley <JBottomley@Parallels.com>
Acked-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/qla2xxx/qla_os.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/scsi/qla2xxx/qla_os.c b/drivers/scsi/qla2xxx/qla_os.c
index 0b688cf6..2569910 100644
--- a/drivers/scsi/qla2xxx/qla_os.c
+++ b/drivers/scsi/qla2xxx/qla_os.c
@@ -3802,7 +3802,7 @@ void
 qla83xx_nic_core_unrecoverable_work(struct work_struct *work)
 {
 	struct qla_hw_data *ha =
-		container_of(work, struct qla_hw_data, nic_core_reset);
+		container_of(work, struct qla_hw_data, nic_core_unrecoverable);
 	scsi_qla_host_t *base_vha = pci_get_drvdata(ha->pdev);
 	uint32_t dev_state = 0;
 
@@ -3824,7 +3824,7 @@ void
 qla83xx_idc_state_handler_work(struct work_struct *work)
 {
 	struct qla_hw_data *ha =
-		container_of(work, struct qla_hw_data, nic_core_reset);
+		container_of(work, struct qla_hw_data, idc_state_handler);
 	scsi_qla_host_t *base_vha = pci_get_drvdata(ha->pdev);
 	uint32_t dev_state = 0;
 
-- 
1.7.4.2

