From: Haggai Abramonvsky <hagaya@mellanox.com>
Date: Thu, 2 Apr 2015 17:07:20 +0300
Subject: [PATCH 113/117] net/mlx5_core: Fix call to mlx5_core_qp_modify
Patch-mainline: v4.1-rc1
Git-commit: c3c6c9c810e100ab92c782e855f9ab9991065f4e
References: bsc#923036 FATE#318772

Pass 0 in the sqd_event parameter.

Signed-off-by: Haggai Abramovsky <hagaya@mellanox.com>
Signed-off-by: Eli Cohen <eli@mellanox.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Hadar Hen Zion <hadarh@mellanox.com>
Acked-by: Cho, Yu-Chen <acho@suse.com>
---
 drivers/infiniband/hw/mlx5/qp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/infiniband/hw/mlx5/qp.c
+++ b/drivers/infiniband/hw/mlx5/qp.c
@@ -1096,7 +1096,7 @@ static void destroy_qp_common(struct mlx
 		return;
 	if (qp->state != IB_QPS_RESET)
 		if (mlx5_core_qp_modify(dev->mdev, to_mlx5_state(qp->state),
-					MLX5_QP_STATE_RST, in, sizeof(*in), &qp->mqp))
+					MLX5_QP_STATE_RST, in, 0, &qp->mqp))
 			mlx5_ib_warn(dev, "mlx5_ib: modify QP %06x to RESET failed\n",
 				     qp->mqp.qpn);
 
