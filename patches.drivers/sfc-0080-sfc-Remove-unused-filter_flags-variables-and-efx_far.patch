From: Ben Hutchings <bhutchings@solarflare.com>
Date: Mon, 19 Nov 2012 19:05:25 +0000
Subject: [PATCH v2 080/244] sfc: Remove unused filter_flags variables and
 efx_farch_filter_id_flags()
Patch-mainline: v3.12-rc1
Git-commit: 910c485dc16be51fd6f4ed13cc14a39d7feacf7e
References: bsc#909618 FATE#317521

Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
Acked-by: David Chang <dchang@suse.com>
---
 drivers/net/ethernet/sfc/filter.c |   16 ----------------
 1 file changed, 16 deletions(-)

--- a/drivers/net/ethernet/sfc/filter.c
+++ b/drivers/net/ethernet/sfc/filter.c
@@ -609,16 +609,6 @@ static inline unsigned int efx_filter_id
 	return id & EFX_FILTER_INDEX_MASK;
 }
 
-static inline u8 efx_filter_id_flags(u32 id)
-{
-	unsigned int range = id >> EFX_FILTER_INDEX_WIDTH;
-
-	if (range < EFX_FILTER_MATCH_PRI_COUNT)
-		return EFX_FILTER_FLAG_RX;
-	else
-		return EFX_FILTER_FLAG_TX;
-}
-
 u32 efx_filter_get_rx_id_limit(struct efx_nic *efx)
 {
 	struct efx_filter_state *state = efx->filter_state;
@@ -829,7 +819,6 @@ int efx_filter_remove_id_safe(struct efx
 	struct efx_filter_table *table;
 	unsigned int filter_idx;
 	struct efx_filter_spec *spec;
-	u8 filter_flags;
 	int rc;
 
 	table_id = efx_filter_id_table_id(filter_id);
@@ -842,8 +831,6 @@ int efx_filter_remove_id_safe(struct efx
 		return -ENOENT;
 	spec = &table->spec[filter_idx];
 
-	filter_flags = efx_filter_id_flags(filter_id);
-
 	spin_lock_bh(&state->lock);
 
 	if (test_bit(filter_idx, table->used_bitmap) &&
@@ -880,7 +867,6 @@ int efx_filter_get_filter_safe(struct ef
 	struct efx_filter_table *table;
 	struct efx_filter_spec *spec;
 	unsigned int filter_idx;
-	u8 filter_flags;
 	int rc;
 
 	table_id = efx_filter_id_table_id(filter_id);
@@ -893,8 +879,6 @@ int efx_filter_get_filter_safe(struct ef
 		return -ENOENT;
 	spec = &table->spec[filter_idx];
 
-	filter_flags = efx_filter_id_flags(filter_id);
-
 	spin_lock_bh(&state->lock);
 
 	if (test_bit(filter_idx, table->used_bitmap) &&
