From: Christoph Hellwig <hch@infradead.org>
Date: Mon, 23 Apr 2012 11:35:32 -0400
Subject: [PATCH] target: remove the task_sectors field in struct se_task
Git-commit: bd31377878868a47b2d2e6f570fb0cace828555b
References: FATE#313550
Patch-Mainline: v3.5

Remove the task_sectors field that isn't used anywhere.

Signed-off-by: Christoph Hellwig <hch@lst.de>
Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
Acked-by: Hannes Reinecke <hare@suse.de>
---
 drivers/target/target_core_transport.c |    2 --
 include/target/target_core_base.h      |    1 -
 2 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/drivers/target/target_core_transport.c b/drivers/target/target_core_transport.c
index a0c0fb6..e5fad31 100644
--- a/drivers/target/target_core_transport.c
+++ b/drivers/target/target_core_transport.c
@@ -3728,8 +3728,6 @@ transport_allocate_data_tasks(struct se_cmd *cmd,
 	task->task_sg = cmd_sg;
 	task->task_sg_nents = sgl_nents;
 
-	task->task_sectors = sectors;
-
 	spin_lock_irqsave(&cmd->t_state_lock, flags);
 	list_add_tail(&task->t_list, &cmd->t_task_list);
 	spin_unlock_irqrestore(&cmd->t_state_lock, flags);
diff --git a/include/target/target_core_base.h b/include/target/target_core_base.h
index 194e538..04df3c5 100644
--- a/include/target/target_core_base.h
+++ b/include/target/target_core_base.h
@@ -486,7 +486,6 @@ struct se_queue_obj {
 };
 
 struct se_task {
-	u32			task_sectors;
 	struct se_cmd		*task_se_cmd;
 	struct scatterlist	*task_sg;
 	u32			task_sg_nents;
-- 
1.7.4.2

