From foo@baz Mon Jul  4 09:28:10 PDT 2011
Date: Mon, 04 Jul 2011 09:28:10 -0700
To: Greg KH <greg@kroah.com>
From: Greg Kroah-Hartman <gregkh@suse.de>
Subject: USB3: paper over WARN_ON warning in drivers/usb/core/driver.c

Something isn't initializing the pm_usage_count correctly in the USB
device.  This is probably due to the USB pm changes not being backported
as they would touch core parts of the kernel.  I'll look at this later,
but for now, just comment out the warning so that people don't keep
reporting the bug.

Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/core/driver.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/usb/core/driver.c
+++ b/drivers/usb/core/driver.c
@@ -1455,7 +1455,7 @@ static int usb_autopm_do_device(struct u
 
 	usb_pm_lock(udev);
 	udev->pm_usage_cnt += inc_usage_cnt;
-	WARN_ON(udev->pm_usage_cnt < 0);
+//	WARN_ON(udev->pm_usage_cnt < 0);
 	if (inc_usage_cnt)
 		udev->last_busy = jiffies;
 	if (inc_usage_cnt >= 0 && udev->pm_usage_cnt > 0) {
