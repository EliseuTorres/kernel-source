From cd5d6d1dc7217ef6e9e8b73ae00cd329daddb6ba Mon Sep 17 00:00:00 2001
From: Valentina Manea <valentina.manea.m@gmail.com>
Date: Mon, 10 Mar 2014 10:36:40 +0200
Subject: [PATCH 46/68] usbcore: rename struct dev_state to struct
 usb_dev_state
References: FATE#315518
Git-Commit: 9b6f0c4b98171f2a354e1e461fefa90ec2baafa6
Patch-Mainline: v3.15

Since it is needed outside usbcore and exposed in include/linux/usb.h,
it conflicts with enum dev_state in rt2x00 wireless driver.

Mark it as usb specific to avoid conflicts in the future.

Signed-off-by: Valentina Manea <valentina.manea.m@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Oliver Neukum <oneukum@suse.de>
Conflicts:
	drivers/usb/core/devio.c
---
 drivers/staging/usbip/stub_dev.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/staging/usbip/stub_dev.c b/drivers/staging/usbip/stub_dev.c
index e1c1c41..8d74601 100644
--- a/drivers/staging/usbip/stub_dev.c
+++ b/drivers/staging/usbip/stub_dev.c
@@ -443,7 +443,7 @@ static int stub_probe(struct usb_interface *interface,
 	 * (struct dev_state) as long as it is unique.
 	 */
 	rc = usb_hub_claim_port(udev->parent, udev->portnum,
-			(struct dev_state *) udev);
+			(struct usb_dev_state *) udev);
 	if (rc) {
 		dev_dbg(&udev->dev, "unable to claim port\n");
 		return rc;
@@ -522,7 +522,7 @@ static void stub_disconnect(struct usb_interface *interface)
 
 	/* release port */
 	rc = usb_hub_release_port(udev->parent, udev->portnum,
-				  (struct dev_state *) udev);
+				  (struct usb_dev_state *) udev);
 	if (rc) {
 		dev_dbg(&udev->dev, "unable to release port\n");
 		return;
-- 
1.8.4.5

