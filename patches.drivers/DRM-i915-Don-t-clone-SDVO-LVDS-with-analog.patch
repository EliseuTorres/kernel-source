From: Egbert Eich <eich@suse.de>
Date: Sat Oct 13 14:30:15 2012 +0200
Subject: DRM/i915: Don't clone SDVO LVDS with analog.
Patch-Mainline: Upstream
Git-commit: e3b86d6941c7e5f90be05d986fce1fcb40c68d6b
Git-repo: git://people.freedesktop.org/~danvet/drm-intel/
References: bnc #766410
Signed-off-by: Egbert Eich <eich@suse.de>

SDVO LVDS are not clonable as the input mode gets adjusted by
the LVDS encoder.

Signed-off-by: Egbert Eich <eich@suse.de>
Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
---
 drivers/gpu/drm/i915/intel_crt.c  |    3 +--
 drivers/gpu/drm/i915/intel_sdvo.c |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

--- a.orig/drivers/gpu/drm/i915/intel_sdvo.c
+++ b/drivers/gpu/drm/i915/intel_sdvo.c
@@ -2157,8 +2157,7 @@ intel_sdvo_lvds_init(struct intel_sdvo *
 		intel_sdvo_connector->output_flag = SDVO_OUTPUT_LVDS1;
 	}
 
-	intel_sdvo->base.clone_mask = ((1 << INTEL_ANALOG_CLONE_BIT) |
-				       (1 << INTEL_SDVO_LVDS_CLONE_BIT));
+	intel_sdvo->base.clone_mask = (1 << INTEL_SDVO_LVDS_CLONE_BIT);
 
 	intel_sdvo_connector_init(intel_sdvo_connector, intel_sdvo);
 	if (!intel_sdvo_create_enhance_property(intel_sdvo, intel_sdvo_connector))
--- a.orig/drivers/gpu/drm/i915/intel_crt.c
+++ b/drivers/gpu/drm/i915/intel_crt.c
@@ -568,8 +568,7 @@ void intel_crt_init(struct drm_device *d
 
 	crt->base.type = INTEL_OUTPUT_ANALOG;
 	crt->base.clone_mask = (1 << INTEL_SDVO_NON_TV_CLONE_BIT |
-				1 << INTEL_ANALOG_CLONE_BIT |
-				1 << INTEL_SDVO_LVDS_CLONE_BIT);
+				1 << INTEL_ANALOG_CLONE_BIT);
 	crt->base.crtc_mask = (1 << 0) | (1 << 1);
 	connector->interlace_allowed = 1;
 	connector->doublescan_allowed = 0;
