From: Bart Van Assche <bvanassche@acm.org>
Date: Tue, 8 Nov 2011 20:46:29 +0100
Subject: [PATCH] target: Avoid compiler warnings about signed one-bit bitfields
Git-commit: 5f655e8d2a7cdc41943f929e86054051d7441ec5
References: FATE#313550
Patch-Mainline: v3.2

Convert to unsigned bit fields for active I/O shutdown fields.

Signed-off-by: Bart Van Assche <bvanassche@acm.org>
Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
Acked-by: Hannes Reinecke <hare@suse.de>
---
 include/target/target_core_base.h |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/include/target/target_core_base.h b/include/target/target_core_base.h
index fcf48a2..fbe5056 100644
--- a/include/target/target_core_base.h
+++ b/include/target/target_core_base.h
@@ -424,8 +424,8 @@ struct se_cmd {
 	/* Transport protocol dependent state, see transport_state_table */
 	enum transport_state_table t_state;
 	/* Used to signal cmd->se_tfo->check_release_cmd() usage per cmd */
-	int			check_release:1;
-	int			cmd_wait_set:1;
+	unsigned		check_release:1;
+	unsigned		cmd_wait_set:1;
 	/* See se_cmd_flags_table */
 	u32			se_cmd_flags;
 	u32			se_ordered_id;
@@ -561,7 +561,7 @@ struct se_node_acl {
 } ____cacheline_aligned;
 
 struct se_session {
-	int			sess_tearing_down:1;
+	unsigned		sess_tearing_down:1;
 	u64			sess_bin_isid;
 	struct se_node_acl	*se_node_acl;
 	struct se_portal_group *se_tpg;
-- 
1.7.4.2

