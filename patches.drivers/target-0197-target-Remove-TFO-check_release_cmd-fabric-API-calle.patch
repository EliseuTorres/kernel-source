From: Nicholas Bellinger <nab@linux-iscsi.org>
Date: Wed, 14 Dec 2011 10:50:16 +0000
Subject: [PATCH] target: Remove TFO->check_release_cmd() fabric API caller
Git-commit: ec54cc081ead14e85736c6543e36ec59be8a7d3d
References: FATE#313550
Patch-Mainline: v3.3

Remove the now unused target_core_fabric_ops->check_release_cmd() as
target_core handles this directly for se_cmd->cmd_kref objects now.

Cc: Christoph Hellwig <hch@lst.de>
Signed-off-by: Nicholas Bellinger <nab@linux-iscsi.org>
Acked-by: Hannes Reinecke <hare@suse.de>
---
 include/target/target_core_fabric.h |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

diff --git a/include/target/target_core_fabric.h b/include/target/target_core_fabric.h
index aaa26da..523e8bc 100644
--- a/include/target/target_core_fabric.h
+++ b/include/target/target_core_fabric.h
@@ -52,10 +52,6 @@ struct target_core_fabric_ops {
 	 * Returning 0 will signal a descriptor has not been released.
 	 */
 	int (*check_stop_free)(struct se_cmd *);
-	/*
-	 * Optional check for active I/O shutdown
-	 */
-	int (*check_release_cmd)(struct se_cmd *);
 	void (*release_cmd)(struct se_cmd *);
 	/*
 	 * Called with spin_lock_bh(struct se_portal_group->session_lock held.
-- 
1.7.4.2

