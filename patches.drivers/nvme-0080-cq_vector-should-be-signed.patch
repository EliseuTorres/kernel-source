From: Jens Axboe <axboe@fb.com>
Date: Thu, 15 Jan 2015 15:19:10 -0700
Subject: NVMe: cq_vector should be signed
References: bnc#936076,FATE#318544
Patch-Mainline: v3.20
Git-commit: 6222d1721dd7d533b43747642419a8ff78ad6f99

This was inadvertently dropped from an earlier commit, otherwise
the check against cq_vector == -1 to prevent double free doesn't
make any sense.

Fixes: 2b25d981790b
Signed-off-by: Jens Axboe <axboe@fb.com>
Acked-by: Hannes Reinecke <hare@suse.de>
---
 drivers/block/nvme-core.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/block/nvme-core.c b/drivers/block/nvme-core.c
index 96569a1..9c4016d 100644
--- a/drivers/block/nvme-core.c
+++ b/drivers/block/nvme-core.c
@@ -110,7 +110,7 @@ struct nvme_queue {
 	struct list_head iod_bio;
 	u32 __iomem *q_db;
 	u16 q_depth;
-	u16 cq_vector;
+	s16 cq_vector;
 	u16 sq_head;
 	u16 sq_tail;
 	u16 cq_head;
-- 
1.8.5.2

