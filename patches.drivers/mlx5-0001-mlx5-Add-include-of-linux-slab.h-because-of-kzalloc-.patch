From: Roland Dreier <roland@purestorage.com>
Date: Thu, 13 Feb 2014 20:45:17 -0800
Subject: [PATCH 001/117] mlx5: Add include of <linux/slab.h> because of
 kzalloc()/kfree() use
Patch-mainline: v3.14-rc3
Git-commit: 6ecde51dd7894ffe2f959cca1fea3ea2b9ee2394
References: bsc#923036 FATE#318772

On some architectures (for example, arm), we don't end up indirectly
pulling in the declaration of kzalloc() and kfree(), and so building
anything that includes <linux/mlx5/driver.h> breaks.  Fix this by adding
an explicit include to get the declaration.

Reported-by: kbuild test robot <fengguang.wu@intel.com>
Signed-off-by: Roland Dreier <roland@purestorage.com>
Signed-off-by: Hadar Hen Zion <hadarh@mellanox.com>
Acked-by: Cho, Yu-Chen <acho@suse.com>
---
 include/linux/mlx5/driver.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/linux/mlx5/driver.h
+++ b/include/linux/mlx5/driver.h
@@ -38,8 +38,10 @@
 #include <linux/pci.h>
 #include <linux/spinlock_types.h>
 #include <linux/semaphore.h>
+#include <linux/slab.h>
 #include <linux/vmalloc.h>
 #include <linux/radix-tree.h>
+
 #include <linux/mlx5/device.h>
 #include <linux/mlx5/doorbell.h>
 
