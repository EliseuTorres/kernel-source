From: James Smart <james.smart@emulex.com>
Date: Mon, 15 Jul 2013 18:34:22 -0400
Subject: [SCSI] lpfc 8.3.41: Fixed failure in setting SLI3 board mode
References: bnc#908903,FATE#317536
Patch-Mainline: v3.13
Git-commit: 7f8c40cf7124074b1cf6eb3400ebfe4eedd47640

Signed-off-by: James Smart <james.smart@emulex.com>
Signed-off-by: James Bottomley <JBottomley@Parallels.com>
Acked-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/lpfc/lpfc_attr.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/drivers/scsi/lpfc/lpfc_attr.c b/drivers/scsi/lpfc/lpfc_attr.c
index 84487bd..1e357b8 100644
--- a/drivers/scsi/lpfc/lpfc_attr.c
+++ b/drivers/scsi/lpfc/lpfc_attr.c
@@ -672,9 +672,6 @@ lpfc_do_offline(struct lpfc_hba *phba, uint32_t type)
 	int i;
 	int rc;
 
-	if (phba->pport->fc_flag & FC_OFFLINE_MODE)
-		return 0;
-
 	init_completion(&online_compl);
 	rc = lpfc_workq_post_event(phba, &status, &online_compl,
 			      LPFC_EVT_OFFLINE_PREP);
-- 
1.8.5.2

