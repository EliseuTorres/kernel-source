From: Dave Jiang <dave.jiang@intel.com>
Date: Fri, 22 Apr 2011 06:39:48 +0000
Subject: [PATCH 149/273] isci: Removing unused define SCIC_SDS_4_ENABLED
Git-commit: d6f6404c038b004fdb93f0676db934d69c524f7e
References: FATE#311808,bnc#709528
Patch-Mainline: 3.0

Signed-off-by: Dave Jiang <dave.jiang@intel.com>
Signed-off-by: Dan Williams <dan.j.williams@intel.com>
Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/isci/Makefile                        |    4 ----
 drivers/scsi/isci/core/intel_sas.h                |    2 --
 drivers/scsi/isci/core/sci_controller_constants.h |    9 ---------
 3 files changed, 0 insertions(+), 15 deletions(-)

diff --git a/drivers/scsi/isci/Makefile b/drivers/scsi/isci/Makefile
index c27d259..78ba0fc 100644
--- a/drivers/scsi/isci/Makefile
+++ b/drivers/scsi/isci/Makefile
@@ -1,7 +1,3 @@
-#TODO kill SCIC_SDS_4_ENABLED it is always true for this
-#generation of silicon
-EXTRA_CFLAGS += -DSCIC_SDS_4_ENABLED
-
 EXTRA_CFLAGS += -Idrivers/scsi/isci/core/ -Idrivers/scsi/isci/
 obj-$(CONFIG_SCSI_ISCI) += isci.o
 isci-objs := init.o phy.o request.o sata.o \
diff --git a/drivers/scsi/isci/core/intel_sas.h b/drivers/scsi/isci/core/intel_sas.h
index b57f39c..c12e6d4 100644
--- a/drivers/scsi/isci/core/intel_sas.h
+++ b/drivers/scsi/isci/core/intel_sas.h
@@ -151,7 +151,6 @@ struct sci_sas_identify_address_frame {
  */
 struct sas_capabilities {
 	union {
-#if defined (SCIC_SDS_4_ENABLED)
 		struct {
 			/**
 			 * The SAS specification indicates the start bit shall always be set to
@@ -172,7 +171,6 @@ struct sas_capabilities {
 			u32 reserved2:17;
 			u32 parity:1;
 		} bits;
-#endif          /* (SCIC_SDS_4_ENABLED) */
 
 		u32 all;
 	} u;
diff --git a/drivers/scsi/isci/core/sci_controller_constants.h b/drivers/scsi/isci/core/sci_controller_constants.h
index 06c34c7..2525c26 100644
--- a/drivers/scsi/isci/core/sci_controller_constants.h
+++ b/drivers/scsi/isci/core/sci_controller_constants.h
@@ -65,9 +65,6 @@
  *
  */
 
-
-#ifdef SCIC_SDS_4_ENABLED
-
 #ifndef SCI_MAX_PHYS
 /**
  *
@@ -188,12 +185,6 @@
 #define SCI_MIN_SCATTER_GATHER_ELEMENTS 1
 #endif
 
-#else /* SCIC_SDS_4_ENABLED */
-
-#error "SCI Core configuration left unspecified (e.g. SCIC_SDS_4_ENABLED)"
-
-#endif /* SCIC_SDS_4_ENABLED */
-
 /**
  *
  *
-- 
1.6.0.2

