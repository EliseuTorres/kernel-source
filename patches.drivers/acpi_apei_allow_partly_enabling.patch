From: Thomas Renninger <trenn@suse.de>
Subject: ACPI APEI: Allow enabling of APEI parts via boot param: hest_enable, erst_enable
References: bnc#714106
Patch-Mainline: never

Signed-off-by: Thomas Renninger <trenn@suse.de>

---
 drivers/acpi/apei/erst.c |    8 ++++++++
 drivers/acpi/apei/hest.c |    8 ++++++++
 2 files changed, 16 insertions(+)

Index: linux-3.0-SLE11-SP2-3.0/drivers/acpi/apei/erst.c
===================================================================
--- linux-3.0-SLE11-SP2-3.0.orig/drivers/acpi/apei/erst.c
+++ linux-3.0-SLE11-SP2-3.0/drivers/acpi/apei/erst.c
@@ -913,6 +913,14 @@ static int __init setup_erst_disable(cha
 
 __setup("erst_disable", setup_erst_disable);
 
+static int __init setup_erst_enable(char *str)
+{
+	printk("Enabling erst parsing\n");
+	erst_disable = 0;
+	return 0;
+}
+__setup("erst_enable", setup_erst_enable);
+
 static int erst_check_table(struct acpi_table_erst *erst_tab)
 {
 	if ((erst_tab->header_length !=
Index: linux-3.0-SLE11-SP2-3.0/drivers/acpi/apei/hest.c
===================================================================
--- linux-3.0-SLE11-SP2-3.0.orig/drivers/acpi/apei/hest.c
+++ linux-3.0-SLE11-SP2-3.0/drivers/acpi/apei/hest.c
@@ -205,6 +205,14 @@ static int __init setup_hest_disable(cha
 
 __setup("hest_disable", setup_hest_disable);
 
+static int __init setup_hest_enable(char *str)
+{
+	printk("Enabling hest parsing\n");
+	hest_disable = 0;
+	return 0;
+}
+__setup("hest_enable", setup_hest_enable);
+
 void __init acpi_hest_init(void)
 {
 	acpi_status status;
