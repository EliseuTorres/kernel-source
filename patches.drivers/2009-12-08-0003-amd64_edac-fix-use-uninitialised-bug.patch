From: Andrew Morton <akpm@linux-foundation.org>
Subject: amd64_edac: fix use-uninitialised bug
References: fate#311968
Patch-Mainline: yes
Git-commit: 18ba54ac1286b4fdb0e61d49fa3ad9363e7cd032


Signed-off-by: Thomas Renninger <trenn@suse.de>

drivers/edac/amd64_edac.c: In function 'amd64_edac_init':
drivers/edac/amd64_edac.c:2840: warning: 'ret' may be used uninitialized in this function

Cc: Doug Thompson <dougthompson@xmission.com>
Cc: Mauro Carvalho Chehab <mchehab@redhat.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Borislav Petkov <borislav.petkov@amd.com>

---
 drivers/edac/amd64_edac.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-2.6.32-SLE11-SP1/drivers/edac/amd64_edac.c
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/drivers/edac/amd64_edac.c
+++ linux-2.6.32-SLE11-SP1/drivers/edac/amd64_edac.c
@@ -2820,7 +2820,7 @@ static int amd64_init_2nd_stage(struct a
 {
 	int node_id = pvt->mc_node_id;
 	struct mem_ctl_info *mci;
-	int ret;
+	int ret = -ENODEV;
 
 	amd64_read_mc_registers(pvt);
 
