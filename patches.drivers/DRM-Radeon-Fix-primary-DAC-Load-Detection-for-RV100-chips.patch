From: Egbert Eich <eich@suse.de>
Date: Wed Oct 24 18:31:19 2012 +0200
Subject: DRM/Radeon: Fix primary DAC Load Detection for RV100 chips.
Patch-Mainline: Upstream
Git-commit: 9c50b1d937cc9656100ba10d9f57484c6d173936
Git-repo: git://people.freedesktop.org/~airlied/linux/
References: bnc #725152
Signed-off-by: Egbert Eich <eich@suse.de>

For Radeon 7500 ATI recommends a DAC_FORCE value of 0x1ac. This value
works better on ES1000 (RV100) chips, too, as it doesn't produce any false
positives on any cards I have tested. Therefore let's assume that this
value is good for all RV100 and RV200 chipset generations.

Signed-off-by: Egbert Eich <eich@suse.de>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
---
 drivers/gpu/drm/radeon/radeon_legacy_encoders.c |    2 ++
 1 file changed, 2 insertions(+)

--- a.orig/drivers/gpu/drm/radeon/radeon_legacy_encoders.c
+++ b/drivers/gpu/drm/radeon/radeon_legacy_encoders.c
@@ -641,6 +641,8 @@ static enum drm_connector_status radeon_
 
 	if (ASIC_IS_R300(rdev))
 		tmp |= (0x1b6 << RADEON_DAC_FORCE_DATA_SHIFT);
+	else if (ASIC_IS_RV100(rdev))
+		tmp |= (0x1ac << RADEON_DAC_FORCE_DATA_SHIFT);
 	else
 		tmp |= (0x180 << RADEON_DAC_FORCE_DATA_SHIFT);
 
