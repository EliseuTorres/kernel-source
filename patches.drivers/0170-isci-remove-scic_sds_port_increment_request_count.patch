From: Edmund Nadolski <edmund.nadolski@intel.com>
Date: Thu, 5 May 2011 01:11:49 +0000
Subject: [PATCH 170/273] isci: remove scic_sds_port_increment_request_count
Git-commit: b9988b8e7fcd80404c60462dc223df8c1f31550d
References: FATE#311808,bnc#709528
Patch-Mainline: 3.0

Removes excessive encapsulation function.

Signed-off-by: Edmund Nadolski <edmund.nadolski@intel.com>
Signed-off-by: Dan Williams <dan.j.williams@intel.com>
Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/isci/core/scic_sds_port.c |    3 +--
 drivers/scsi/isci/core/scic_sds_port.h |    5 -----
 2 files changed, 1 insertions(+), 7 deletions(-)

diff --git a/drivers/scsi/isci/core/scic_sds_port.c b/drivers/scsi/isci/core/scic_sds_port.c
index 04a56c5..e1c8734 100644
--- a/drivers/scsi/isci/core/scic_sds_port.c
+++ b/drivers/scsi/isci/core/scic_sds_port.c
@@ -1232,8 +1232,7 @@ static enum sci_status scic_sds_port_ready_operational_substate_start_io_handler
 	struct scic_sds_remote_device *device,
 	struct scic_sds_request *io_request)
 {
-	scic_sds_port_increment_request_count(port);
-
+	port->started_request_count++;
 	return SCI_SUCCESS;
 }
 
diff --git a/drivers/scsi/isci/core/scic_sds_port.h b/drivers/scsi/isci/core/scic_sds_port.h
index 115cbe3..213d423 100644
--- a/drivers/scsi/isci/core/scic_sds_port.h
+++ b/drivers/scsi/isci/core/scic_sds_port.h
@@ -359,11 +359,6 @@ struct scic_sds_port_state_handler {
 	((this_port)->physical_port_index)
 
 
-static inline void scic_sds_port_increment_request_count(struct scic_sds_port *sci_port)
-{
-	sci_port->started_request_count++;
-}
-
 static inline void scic_sds_port_decrement_request_count(struct scic_sds_port *sci_port)
 {
 	if (WARN_ONCE(sci_port->started_request_count == 0,
-- 
1.6.0.2

