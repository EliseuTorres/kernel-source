From: Seth Heasley <seth.heasley@intel.com>
Date: 2013-02-06 15:08:00 -0800
Subject: Add GPIO support for Intel Centerton SOC 
References: bnc#792793
Git-commit: 77820ffae678fa7ff6cc155354825b6b1a023afb
Patch-mainline: v3.5

Adds DeviceIDs for the Intel Centerton SOC for GPIO.

Acked-by: Jean Delvare <jdelvare@suse.de>
---
 drivers/gpio/Kconfig    |    9 ++++++---
 drivers/gpio/sch_gpio.c |    7 +++++++
 2 files changed, 13 insertions(+), 3 deletions(-)

--- a/drivers/gpio/Kconfig
+++ b/drivers/gpio/Kconfig
@@ -121,13 +121,13 @@ config GPIO_VR41XX
 	  Say yes here to support the NEC VR4100 series General-purpose I/O Uint
 
 config GPIO_SCH
-	tristate "Intel SCH/TunnelCreek GPIO"
+	tristate "Intel SCH/TunnelCreek/Centerton GPIO"
 	depends on PCI && X86
 	select MFD_CORE
 	select LPC_SCH
 	help
-	  Say yes here to support GPIO interface on Intel Poulsbo SCH
-	  or Intel Tunnel Creek processor.
+	  Say yes here to support GPIO interface on Intel Poulsbo SCH,
+	  Intel Tunnel Creek processor or Intel Centerton processor.
 	  The Intel SCH contains a total of 14 GPIO pins. Ten GPIOs are
 	  powered by the core power rail and are turned off during sleep
 	  modes (S3 and higher). The remaining four GPIOs are powered by
@@ -136,6 +136,9 @@ config GPIO_SCH
 	  system from the Suspend-to-RAM state.
 	  The Intel Tunnel Creek processor has 5 GPIOs powered by the
 	  core power rail and 9 from suspend power supply.
+	  The Intel Centerton processor has a total of 30 GPIO pins.
+	  Twenty-one are powered by the core power rail and 9 from the
+	  suspend power supply.
 
 	  This driver can also be built as a module. If so, the module
 	  will be called sch-gpio.
--- a/drivers/gpio/sch_gpio.c
+++ b/drivers/gpio/sch_gpio.c
@@ -232,6 +232,13 @@ static int __devinit sch_gpio_probe(stru
 			sch_gpio_resume.ngpio = 9;
 			break;
 
+		case PCI_DEVICE_ID_INTEL_CENTERTON_ILB:
+			sch_gpio_core.base = 0;
+			sch_gpio_core.ngpio = 21;
+
+			sch_gpio_resume.base = 21;
+			sch_gpio_resume.ngpio = 9;
+
 		default:
 			return -ENODEV;
 	}
