From: Ben Hutchings <bhutchings@solarflare.com>
Date: Mon, 9 Jan 2012 19:51:22 +0000
Subject: sfc: Use existing local variables instead of repeated indirect
 lookups
Patch-mainline: v3.4-rc1
Git-commit: 86ee53020abe4eb9c85e612129e3848ee98302fd
References: bnc#786035 FATE#314299

Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
Acked-by: Benjamin Poirier <bpoirier@suse.de>
---
 drivers/net/ethernet/sfc/efx.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/drivers/net/ethernet/sfc/efx.c
+++ b/drivers/net/ethernet/sfc/efx.c
@@ -364,7 +364,7 @@ static int efx_probe_eventq(struct efx_c
 	struct efx_nic *efx = channel->efx;
 	unsigned long entries;
 
-	netif_dbg(channel->efx, probe, channel->efx->net_dev,
+	netif_dbg(efx, probe, efx->net_dev,
 		  "chan %d create event queue\n", channel->channel);
 
 	/* Build an event queue with room for one event per tx and rx buffer,
@@ -1976,7 +1976,7 @@ static int efx_register_netdev(struct ef
 	}
 
 	/* Always start with carrier off; PHY events will detect the link */
-	netif_carrier_off(efx->net_dev);
+	netif_carrier_off(net_dev);
 
 	rtnl_unlock();
 
