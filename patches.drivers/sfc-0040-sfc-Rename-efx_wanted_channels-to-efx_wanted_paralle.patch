From: Ben Hutchings <bhutchings@solarflare.com>
Date: Tue, 20 Dec 2011 01:15:30 +0000
Subject: sfc: Rename efx_wanted_channels() to efx_wanted_parallelism()
Patch-mainline: v3.4-rc1
Git-commit: fa142b9da3393fd92b398b6bdecf3f21914e309b
References: bnc#786035 FATE#314299

This function returns the degree of parallelism wanted, which is not
necessarily the total number of channels we want to create.

Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
Acked-by: Benjamin Poirier <bpoirier@suse.de>
---
 drivers/net/ethernet/sfc/efx.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

--- a/drivers/net/ethernet/sfc/efx.c
+++ b/drivers/net/ethernet/sfc/efx.c
@@ -1146,9 +1146,7 @@ static void efx_fini_io(struct efx_nic *
 	pci_disable_device(efx->pci_dev);
 }
 
-/* Get number of channels wanted.  Each channel will have its own IRQ,
- * 1 RX queue and/or 2 TX queues. */
-static int efx_wanted_channels(void)
+static int efx_wanted_parallelism(void)
 {
 	cpumask_var_t core_mask;
 	int count;
@@ -1211,7 +1209,7 @@ static int efx_probe_interrupts(struct e
 		struct msix_entry xentries[EFX_MAX_CHANNELS];
 		int n_channels;
 
-		n_channels = efx_wanted_channels();
+		n_channels = efx_wanted_parallelism();
 		if (separate_tx_channels)
 			n_channels *= 2;
 		n_channels = min(n_channels, max_channels);
