From: Syam Sidhardhan <syamsidhardh@gmail.com>
Date: Sun, 24 Feb 2013 23:20:05 +0000
Subject: IB/mlx4: Remove redundant NULL check before kfree
Patch-mainline: v3.9-rc1
Git-commit: c89d127128dba62458e956388fef7e5d728e1ded
References: bug#919382 FATE#317529

kfree on NULL pointer is a no-op.

Signed-off-by: Syam Sidhardhan <s.syam@samsung.com>
Signed-off-by: Roland Dreier <roland@purestorage.com>
Acked-by: Benjamin Poirier <bpoirier@suse.de>
---
 drivers/infiniband/hw/mlx4/main.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

--- a/drivers/infiniband/hw/mlx4/main.c
+++ b/drivers/infiniband/hw/mlx4/main.c
@@ -1690,8 +1690,7 @@ static void do_slave_init(struct mlx4_ib
 		spin_unlock_irqrestore(&ibdev->sriov.going_down_lock, flags);
 	}
 out:
-	if (dm)
-		kfree(dm);
+	kfree(dm);
 	return;
 }
 
