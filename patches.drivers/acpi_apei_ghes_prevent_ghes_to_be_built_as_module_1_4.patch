From nobody Mon Aug  8 13:24:57 2011
From: Huang Ying <ying.huang@intel.com>
Subject: ACPI, APEI, GHES, Prevent GHES to be built as module
References: bnc#697859
Patch-Mainline: v3.1-rc1
Git-commit: 86cd47334b00b6aa9b5d0ebf389a6fe76f21c641

Signed-off-by: Thomas Renninger <trenn@suse.de>

GHES (Generic Hardware Error Source) is used to process hardware error
notification in firmware first mode.  But because firmware first mode
can be turned on but can not be turned off, it is unreasonable to
unload the GHES module with firmware first mode turned on.  To avoid
confusion, this patch makes GHES can be enable/disable in
configuration time, but not built as module and unload at run time.

Signed-off-by: Huang Ying <ying.huang@intel.com>
---
 drivers/acpi/apei/Kconfig |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/acpi/apei/Kconfig
+++ b/drivers/acpi/apei/Kconfig
@@ -10,7 +10,7 @@ config ACPI_APEI
 	  error injection.
 
 config ACPI_APEI_GHES
-	tristate "APEI Generic Hardware Error Source"
+	bool "APEI Generic Hardware Error Source"
 	depends on ACPI_APEI && X86
 	select ACPI_HED
 	help

