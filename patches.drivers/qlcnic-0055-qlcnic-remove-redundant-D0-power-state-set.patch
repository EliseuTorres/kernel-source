From: Yijing Wang <wangyijing@huawei.com>
Date: Thu, 30 May 2013 00:26:09 +0000
Subject: [PATCH 055/270] qlcnic: remove redundant D0 power state set
Patch-mainline: v3.11-rc1
Git-commit: e4afed373eefb91a80e69075fbcd5438c2d36283
References: bsc#909350 FATE#317546

pci_enable_device() will set device power state to D0,
so it's no need to do it again in qlcnic_attach_func().

Signed-off-by: Yijing Wang <wangyijing@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Shahed Shaikh <shahed.shaikh@qlogic.com>
Acked-by: Gary Ching-Pang Lin <glin@suse.com>
---
 drivers/net/ethernet/qlogic/qlcnic/qlcnic_main.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/net/ethernet/qlogic/qlcnic/qlcnic_main.c
+++ b/drivers/net/ethernet/qlogic/qlcnic/qlcnic_main.c
@@ -3240,7 +3240,6 @@ static int qlcnic_attach_func(struct pci
 	if (err)
 		return err;
 
-	pci_set_power_state(pdev, PCI_D0);
 	pci_set_master(pdev);
 	pci_restore_state(pdev);
 
