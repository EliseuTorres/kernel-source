From 63f10d2ca78c17cdd612c1daee7daffacca8b7fb Mon Sep 17 00:00:00 2001
From: Lydia Wang <lydiawang@viatech.com.cn>
Date: Tue, 28 Jun 2011 17:29:10 +0800
Subject: [PATCH] ALSA: hda - Fix unsol event initializations for VIA codecs
Git-commit: 63f10d2ca78c17cdd612c1daee7daffacca8b7fb
Patch-mainline: 3.1-rc2
References: FATE#314310

Fix a issue to enable unsolicited response to line-out pins.

Signed-off-by: Lydia Wang <lydiawang@viatech.com.cn>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/patch_via.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/sound/pci/hda/patch_via.c
+++ b/sound/pci/hda/patch_via.c
@@ -2427,7 +2427,7 @@ static void via_auto_init_unsol_event(st
 	for (i = 0; i < cfg->line_outs; i++) {
 		if (cfg->line_out_pins[i] &&
 		    is_jack_detectable(codec, cfg->line_out_pins[i]))
-			snd_hda_codec_write(codec, cfg->line_out_pins[0], 0,
+			snd_hda_codec_write(codec, cfg->line_out_pins[i], 0,
 				AC_VERB_SET_UNSOLICITED_ENABLE,
 				AC_USRSP_EN | ev | VIA_JACK_EVENT);
 	}
