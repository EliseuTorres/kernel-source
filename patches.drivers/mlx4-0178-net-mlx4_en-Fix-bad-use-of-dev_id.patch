From: Amir Vadai <amirv@mellanox.com>
Date: Tue, 25 Feb 2014 18:17:52 +0200
Subject: net/mlx4_en: Fix bad use of dev_id
Patch-mainline: v3.15-rc1
Git-commit: ca9f9f703950e5cb300526549b4f1b0a6605a5c5
References: bug#919382 FATE#317529

dev_id should be set for multiple netdev's sharing the same MAC, which
is not the case here.

Signed-off-by: Amir Vadai <amirv@mellanox.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Benjamin Poirier <bpoirier@suse.de>
---
 drivers/net/ethernet/mellanox/mlx4/en_netdev.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/net/ethernet/mellanox/mlx4/en_netdev.c
+++ b/drivers/net/ethernet/mellanox/mlx4/en_netdev.c
@@ -2042,7 +2042,6 @@ int mlx4_en_init_netdev(struct mlx4_en_d
 	netif_set_real_num_rx_queues(dev, prof->rx_ring_num);
 
 	SET_NETDEV_DEV(dev, &mdev->dev->pdev->dev);
-	dev->dev_id =  port - 1;
 	dev->dev_port = port - 1;
 
 	/*
