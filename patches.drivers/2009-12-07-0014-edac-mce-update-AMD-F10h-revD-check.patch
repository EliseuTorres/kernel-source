From: Borislav Petkov <borislav.petkov@amd.com>
Subject: edac, mce: update AMD F10h revD check
References: fate#311968
Patch-Mainline: yes
Git-commit: cec7924f568eddcccdbfd814b136554b1b8dc624


Signed-off-by: Thomas Renninger <trenn@suse.de>

F10h revD start with model number 8.

Signed-off-by: Borislav Petkov <borislav.petkov@amd.com>

---
 drivers/edac/edac_mce_amd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-2.6.32-SLE11-SP1/drivers/edac/edac_mce_amd.c
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/drivers/edac/edac_mce_amd.c
+++ linux-2.6.32-SLE11-SP1/drivers/edac/edac_mce_amd.c
@@ -305,7 +305,7 @@ void amd_decode_nb_mce(int node_id, stru
 	 * value encoding has changed so interpret those differently
 	 */
 	if ((boot_cpu_data.x86 == 0x10) &&
-	    (boot_cpu_data.x86_model > 8)) {
+	    (boot_cpu_data.x86_model > 7)) {
 		if (regs->nbsh & K8_NBSH_ERR_CPU_VAL)
 			pr_cont(", core: %u\n", (u8)(regs->nbsh & 0xf));
 	} else {
