From ajitkhaparde@gmail.com  Thu Jun 23 15:40:24 2011
From: Ajit Khaparde <ajitkhaparde@gmail.com>
Date: Sun, 7 Mar 2010 14:23:44 +0000
Subject: [PATCH] be2net: remove unused code in be_load_fw
Git-commit: 7e8a9298adf7531c58d73ba9c499353e3807cf19
Patch-mainline: v2.6.34-rc2
References: FATE#311448, bnc#697255

This patch cleans up some unused code from be_load_fw().

Signed-off-by: Ajit Khaparde <ajitk@serverengines.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Acked-by: Jeff Mahoney <jeffm@suse.com>
---
 drivers/net/benet/be_main.c |    9 ---------
 1 file changed, 9 deletions(-)
--- a/drivers/net/benet/be_main.c
+++ b/drivers/net/benet/be_main.c
@@ -1994,16 +1994,7 @@ int be_load_fw(struct be_adapter *adapte
 	struct be_dma_mem flash_cmd;
 	int status, i = 0;
 	const u8 *p;
-	char fw_ver[FW_VER_LEN];
-	char fw_cfg;
 
-	status = be_cmd_get_fw_ver(adapter, fw_ver);
-	if (status)
-		return status;
-
-	fw_cfg = *(fw_ver + 2);
-	if (fw_cfg == '0')
-		fw_cfg = '1';
 	strcpy(fw_file, func);
 
 	status = request_firmware(&fw, fw_file, &adapter->pdev->dev);
