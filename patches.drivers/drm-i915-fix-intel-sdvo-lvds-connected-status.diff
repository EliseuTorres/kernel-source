From: Egbert Eich <eich@suse.de>
Subject: Fix detection of connected LVDS sdvo devices.
Patch-mainline: To be upstreamed.
References: bnc#707270, bnc #710575


Signed-off-by: Egbert Eich <eich@suse.de>
---
 drivers/gpu/drm/i915/intel_sdvo.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

--- linux-3.0-SLE11-SP2-3.0.orig/drivers/gpu/drm/i915/intel_sdvo.c
+++ linux-3.0-SLE11-SP2-3.0/drivers/gpu/drm/i915/intel_sdvo.c
@@ -1408,9 +1408,13 @@ intel_sdvo_detect(struct drm_connector *
 			edid = intel_sdvo_get_analog_edid(connector);
 		if (edid != NULL) {
 			if (edid->input & DRM_EDID_INPUT_DIGITAL)
-				ret = connector_status_disconnected;
+				ret = IS_LVDS(intel_sdvo_connector) ?
+					connector_status_connected :
+					connector_status_disconnected;
 			else
-				ret = connector_status_connected;
+				ret = IS_LVDS(intel_sdvo_connector) ?
+					connector_status_disconnected :
+					connector_status_connected;
 			connector->display_info.raw_edid = NULL;
 			kfree(edid);
 		} else
