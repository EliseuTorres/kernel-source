From: Vasu Dev <vasu.dev@intel.com>
Date: Tue, 7 Apr 2015 19:45:36 -0400
Subject: [PATCH 477/497] i40e: print FCoE capability reported by the device
 function
Patch-mainline: v4.1-rc1
Git-commit: f18ae1009276b604ff5776b41af981f25db52240
References: bsc#922844 FATE#318525

This is to allow quick check for FCoE capability is enabled or not
in device function before any SW overrides.

Change-ID: I5f78ba798d566f143161273156916c6f4074496e
Signed-off-by: Vasu Dev <vasu.dev@intel.com>
Tested-by: Jim Young <james.m.young@intel.com>
Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Acked-by: David Chang <dchang@suse.com>
---
 drivers/net/ethernet/intel/i40e/i40e_common.c |    3 +++
 1 file changed, 3 insertions(+)

--- a/drivers/net/ethernet/intel/i40e/i40e_common.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_common.c
@@ -2546,6 +2546,9 @@ static void i40e_parse_discover_capabili
 		}
 	}
 
+	if (p->fcoe)
+		i40e_debug(hw, I40E_DEBUG_ALL, "device is FCoE capable\n");
+
 	/* Software override ensuring FCoE is disabled if npar or mfp
 	 * mode because it is not supported in these modes.
 	 */
