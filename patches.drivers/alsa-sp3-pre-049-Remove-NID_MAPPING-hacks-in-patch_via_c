From 47be05ce0a634779e1e86ec318a046f43dd6c602 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Mon, 20 Jun 2011 15:10:28 +0200
Subject: [PATCH] ALSA: hda - Remove NID_MAPPING hacks in patch_via.c
Git-commit: 47be05ce0a634779e1e86ec318a046f43dd6c602
Patch-mainline: 3.1-rc2
References: FATE#314310

There is no longer virtual kmixer element for NID mapping.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/patch_via.c |   16 ----------------
 1 file changed, 16 deletions(-)

--- a/sound/pci/hda/patch_via.c
+++ b/sound/pci/hda/patch_via.c
@@ -54,8 +54,6 @@
 #include "hda_codec.h"
 #include "hda_local.h"
 
-#define NID_MAPPING		(-1)
-
 /* Pin Widget NID */
 #define VT1708_HP_PIN_NID	0x20
 #define VT1708_CD_PIN_NID	0x24
@@ -1280,7 +1278,6 @@ static int via_build_controls(struct hda
 {
 	struct via_spec *spec = codec->spec;
 	struct snd_kcontrol *kctl;
-	const struct snd_kcontrol_new *knew;
 	int err, i;
 
 	if (spec->set_widgets_power_state)
@@ -1336,19 +1333,6 @@ static int via_build_controls(struct hda
 			return err;
 	}
 
-	/* other nid->control mapping */
-	for (i = 0; i < spec->num_mixers; i++) {
-		for (knew = spec->mixers[i]; knew->name; knew++) {
-			if (knew->iface != NID_MAPPING)
-				continue;
-			kctl = snd_hda_find_mixer_ctl(codec, knew->name);
-			if (kctl == NULL)
-				continue;
-			err = snd_hda_add_nid(codec, kctl, 0,
-					      knew->subdevice);
-		}
-	}
-
 	/* init power states */
 	set_widgets_power_state(codec);
 	analog_low_current_mode(codec, 1);
