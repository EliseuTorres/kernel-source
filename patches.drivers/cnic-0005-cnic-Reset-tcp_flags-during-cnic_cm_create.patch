From: Eddie Wai <eddie.wai@broadcom.com>
Date: Sun, 28 Jul 2013 19:03:57 -0700
Subject: [PATCH 05/26] cnic: Reset tcp_flags during cnic_cm_create().
Patch-mainline: v3.12-rc1

Git-commit: 6cdcdbba600c0537f5c61a9ffa45e708950c1aa6
References: bsc#909368 FATE#317537


Without resetting it, the bnx2i driver cannot use different options for
different iSCSI connections.

Signed-off-by: Eddie Wai <eddie.wai@broadcom.com>
Signed-off-by: Michael Chan <mchan@broadcom.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Cho, Yu-Chen <acho@suse.com>
---
 drivers/net/ethernet/broadcom/cnic.c |    1 +
 1 file changed, 1 insertion(+)
--- a/drivers/net/ethernet/broadcom/cnic.c
+++ b/drivers/net/ethernet/broadcom/cnic.c
@@ -3603,6 +3603,7 @@ static int cnic_cm_create(struct cnic_de
 	csk1->rcv_buf = DEF_RCV_BUF;
 	csk1->snd_buf = DEF_SND_BUF;
 	csk1->seed = DEF_SEED;
+	csk1->tcp_flags = 0;
 
 	*csk = csk1;
 	return 0;
