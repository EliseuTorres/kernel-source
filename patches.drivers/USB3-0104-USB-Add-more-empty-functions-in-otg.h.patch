From 748eee0986f0d51c7bc39f194d515a8d8248ebdd Mon Sep 17 00:00:00 2001
From: Grazvydas Ignotas <notasas@gmail.com>
Date: Mon, 27 Sep 2010 15:17:18 +0300
Subject: USB: Add more empty functions in otg.h
Patch-mainline: v2.6.37
Git-commit: 748eee0986f0d51c7bc39f194d515a8d8248ebdd

Add empty functions for get/put transceiver functions too, so that
drivers that optionally use them can call them without worrying that
they might not exist, eliminating ifdefs.

Signed-off-by: Grazvydas Ignotas <notasas@gmail.com>
Acked-by: Felipe Balbi <balbi@ti.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 include/linux/usb/otg.h |   11 +++++++++++
 1 file changed, 11 insertions(+)

--- a/include/linux/usb/otg.h
+++ b/include/linux/usb/otg.h
@@ -87,8 +87,19 @@ extern void usb_nop_xceiv_unregister(voi
 
 
 /* for usb host and peripheral controller drivers */
+#ifdef CONFIG_USB_OTG_UTILS
 extern struct otg_transceiver *otg_get_transceiver(void);
 extern void otg_put_transceiver(struct otg_transceiver *);
+#else
+static inline struct otg_transceiver *otg_get_transceiver(void)
+{
+	return NULL;
+}
+
+static inline void otg_put_transceiver(struct otg_transceiver *x)
+{
+}
+#endif
 
 /* Context: can sleep */
 static inline int
