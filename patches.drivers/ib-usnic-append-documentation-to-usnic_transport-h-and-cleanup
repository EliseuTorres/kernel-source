From: Upinder Malhi <umalhi@cisco.com>
Date: Fri, 20 Dec 2013 21:41:23 +0000
Subject: IB/usnic: Append documentation to usnic_transport.h and cleanup
Git-commit: 3108bccb3d9afbd32931d775f5dd5ee157eaa5a9
Patch-mainline: v3.14-rc1
References: bnc#860248,FATE#315827

Add comment describing usnic_transport_rsrv port and remove
extraneous space from usnic_transport.c.

Signed-off-by: Upinder Malhi <umalhi@cisco.com>
Signed-off-by: Roland Dreier <roland@purestorage.com>
Acked-by: John Jolly <jjolly@suse.de>
---
 drivers/infiniband/hw/usnic/usnic_transport.c | 1 -
 drivers/infiniband/hw/usnic/usnic_transport.h | 4 ++++
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/drivers/infiniband/hw/usnic/usnic_transport.c b/drivers/infiniband/hw/usnic/usnic_transport.c
index 73dffc9..9182cc8 100644
--- a/drivers/infiniband/hw/usnic/usnic_transport.c
+++ b/drivers/infiniband/hw/usnic/usnic_transport.c
@@ -184,7 +184,6 @@ int usnic_transport_sock_get_addr(struct socket *sock, int *proto,
 	return 0;
 }
 
-
 int usnic_transport_init(void)
 {
 	roce_bitmap = kzalloc(ROCE_BITMAP_SZ, GFP_KERNEL);
diff --git a/drivers/infiniband/hw/usnic/usnic_transport.h b/drivers/infiniband/hw/usnic/usnic_transport.h
index 21371bb..7e5dc6d 100644
--- a/drivers/infiniband/hw/usnic/usnic_transport.h
+++ b/drivers/infiniband/hw/usnic/usnic_transport.h
@@ -28,6 +28,10 @@ const char *usnic_transport_to_str(enum usnic_transport_type trans_type);
  */
 int usnic_transport_sock_to_str(char *buf, int buf_sz,
 					struct socket *sock);
+/*
+ * Reserve a port. If "port_num" is set, then the function will try
+ * to reserve that particular port.
+ */
 u16 usnic_transport_rsrv_port(enum usnic_transport_type type, u16 port_num);
 void usnic_transport_unrsrv_port(enum usnic_transport_type type, u16 port_num);
 /*

