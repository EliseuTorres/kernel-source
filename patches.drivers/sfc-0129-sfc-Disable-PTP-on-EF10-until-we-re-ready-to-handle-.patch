From: Ben Hutchings <bhutchings@solarflare.com>
Date: Thu, 5 Sep 2013 22:37:08 +0100
Subject: [PATCH v2 129/244] sfc: Disable PTP on EF10 until we're ready to
 handle inline RX timestamps
Patch-mainline: v3.12-rc2
Git-commit: 8b59f017e4c3f6d30427440014aba8ac25ccb867
References: bsc#909618 FATE#317521

Unlike Siena where timestamping is provided by a peripheral, EF10
delivers RX timestamps in the packet prefix.  However the driver
doesn't yet support this.

We are also creating a PHC device for each EF10 function, even though
the clock is really shared between all of them.

Disable hardware PTP/timestamping support until it's complete.

Signed-off-by: Ben Hutchings <bhutchings@solarflare.com>
Acked-by: David Chang <dchang@suse.com>
---
 drivers/net/ethernet/sfc/ef10.c |    2 --
 1 file changed, 2 deletions(-)

--- a/drivers/net/ethernet/sfc/ef10.c
+++ b/drivers/net/ethernet/sfc/ef10.c
@@ -260,8 +260,6 @@ static int efx_ef10_probe(struct efx_nic
 	if (rc)
 		goto fail3;
 
-	efx_ptp_probe(efx);
-
 	return 0;
 
 fail3:
