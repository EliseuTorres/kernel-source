From: Michal Kubecek <mkubecek@suse.cz>
Date: Tue, 5 Nov 2013 14:22:26 +0100
Subject: bna: do not register ndo_set_rx_mode callback
Patch-mainline: Never, resolved in a different way
References: bnc#847261

Function bnad_set_rx_mode() doesn't handle device's uc list so
it should be only registered as ndo_set_multicast_list callback
so that __dev_set_rx_mode() does set the device to promiscuous
mode if uc list is nonempty.

Signed-off-by: Michal Kubecek <mkubecek@suse.cz>
---
 drivers/net/bna/bnad.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/net/bna/bnad.c b/drivers/net/bna/bnad.c
index 6ec4f63..1b3f11c 100644
--- a/drivers/net/bna/bnad.c
+++ b/drivers/net/bna/bnad.c
@@ -3074,7 +3074,6 @@ static const struct net_device_ops bnad_netdev_ops = {
 	.ndo_stop		= bnad_stop,
 	.ndo_start_xmit		= bnad_start_xmit,
 	.ndo_get_stats64		= bnad_get_stats64,
-	.ndo_set_rx_mode	= bnad_set_rx_mode,
 	.ndo_set_multicast_list = bnad_set_rx_mode,
 	.ndo_validate_addr      = eth_validate_addr,
 	.ndo_set_mac_address    = bnad_set_mac_address,
-- 
1.8.1.4

