From: Joe Perches <joe@perches.com>
Date: Wed, 19 Jun 2013 12:15:53 -0700
Subject: [PATCH v4 13/25] treewide: Add __GFP_NOWARN to k.alloc calls with
 v.alloc fallbacks
Patch-mainline: v3.12-rc1
Git-commit: 8be04b9374e59923fa337766aaa74151b95b7099 (partial)
References: bsc#909575 FATE#317552

Don't emit OOM warnings when k.alloc calls fail when
there there is a v.alloc immediately afterwards.

Converted a kmalloc/vmalloc with memset to kzalloc/vzalloc.

Signed-off-by: Joe Perches <joe@perches.com>
Acked-by: "Theodore Ts'o" <tytso@mit.edu>
Signed-off-by: Jiri Kosina <jkosina@suse.cz>
Acked-by: David Chang <dchang@suse.com>
---
 drivers/net/ethernet/chelsio/cxgb3/cxgb3_offload.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/net/ethernet/chelsio/cxgb3/cxgb3_offload.c
+++ b/drivers/net/ethernet/chelsio/cxgb3/cxgb3_offload.c
@@ -1168,7 +1168,7 @@ static void cxgb_redirect(struct dst_ent
  */
 void *cxgb_alloc_mem(unsigned long size)
 {
-	void *p = kzalloc(size, GFP_KERNEL);
+	void *p = kzalloc(size, GFP_KERNEL | __GFP_NOWARN);
 
 	if (!p)
 		p = vzalloc(size);
