From: "Jordan_Hargrave@Dell.com" <Jordan_Hargrave@Dell.com>
Subject: [PATCH] Add MODULE_ALIAS for autoloading ipmi driver on ACPI systems
References: FATE#317646
Patch-mainline: v3.12-rc1
Git-commit: a798e2d2d7374ba1e35e2244506f56c8363902cf

I'd submitted this about a year ago but it never made it upstream.

The latest versions of the kernel drivers for ipmi can use ACPI to
determine the type of BMC device used in the system.  The following
patch adds a module alias so that udev will autoload the ipmi_si driver.

Signed-off-by: Jordan Hargrave <jordan_hargrave@dell.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
Signed-off-by: Jiri Kosina <jkosina@suse.cz>
---
 drivers/char/ipmi/ipmi_si_intf.c | 2 ++
 1 file changed, 2 insertions(+)

Index: linux-3.0-SLE11-SP4/drivers/char/ipmi/ipmi_si_intf.c
===================================================================
--- linux-3.0-SLE11-SP4.orig/drivers/char/ipmi/ipmi_si_intf.c	2015-02-27 12:03:19.789710229 +0100
+++ linux-3.0-SLE11-SP4/drivers/char/ipmi/ipmi_si_intf.c	2015-02-27 12:03:26.522040715 +0100
@@ -2257,6 +2257,8 @@
 	.remove		= __devexit_p(ipmi_pnp_remove),
 	.id_table	= pnp_dev_table,
 };
+
+MODULE_DEVICE_TABLE(pnp, pnp_dev_table);
 #endif
 
 #ifdef CONFIG_DMI
