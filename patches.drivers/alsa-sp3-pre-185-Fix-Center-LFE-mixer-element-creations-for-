From 9c4e84d3b8cbcde88947ceff265e11d38ab127b9 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Wed, 24 Aug 2011 17:27:52 +0200
Subject: [PATCH] ALSA: hda - Fix Center/LFE mixer element creations for Realtek
Git-commit: 9c4e84d3b8cbcde88947ceff265e11d38ab127b9
Patch-mainline: 3.2-rc1
References: FATE#314311

The commit 23c09b00900c3fa6672148738cad29d6fc6ded7c
    ALSA: hda - Support multiple speakers by Realtek auto-parser
changes the return value from alc_get_line_out_pfx(), and it breaks
the center/LFE mixer split check.  The caller must test with a string
"CLFE" now.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/patch_realtek.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/sound/pci/hda/patch_realtek.c
+++ b/sound/pci/hda/patch_realtek.c
@@ -3021,7 +3021,7 @@ static int alc_auto_create_multi_out_ctl
 		sw = alc_look_for_out_mute_nid(codec, pin, dac);
 		vol = alc_look_for_out_vol_nid(codec, pin, dac);
 		name = alc_get_line_out_pfx(spec, i, true, &index);
-		if (!name) {
+		if (!name || !strcmp(name, "CLFE")) {
 			/* Center/LFE */
 			err = alc_auto_add_vol_ctl(codec, "Center", 0, vol, 1);
 			if (err < 0)
