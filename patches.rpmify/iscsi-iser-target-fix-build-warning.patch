From: Jiri Slaby <jslaby@suse.cz>
Date: Thu, 27 Mar 2014 09:52:01 +0100
Subject: iscsi/iser-target: fix build warning
Patch-mainline: queued for 3.12.16

With upstream commit defd884845297fd5690594bfe89656b01f16d87e, 3.12
commit 2f82fa987df6b060241fc760eadf5dd02c51a979, we introduced a
warning:
  drivers/infiniband/ulp/isert/ib_isert.c: In function 'isert_cq_rx_comp_err':
  drivers/infiniband/ulp/isert/ib_isert.c:##L##: warning: unused variable 'ib_dev' [-Wunused-variable]

Remove ib_dev as it is unused.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
Cc: Sagi Grimberg <sagig@mellanox.com>
Cc: Or Gerlitz <ogerlitz@mellanox.com>
Cc: Nicholas Bellinger <nab@linux-iscsi.org>
---
 drivers/infiniband/ulp/isert/ib_isert.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/infiniband/ulp/isert/ib_isert.c b/drivers/infiniband/ulp/isert/ib_isert.c
index ba93ef85652d..09c71293ab4b 100644
--- a/drivers/infiniband/ulp/isert/ib_isert.c
+++ b/drivers/infiniband/ulp/isert/ib_isert.c
@@ -1652,7 +1652,6 @@ isert_cq_tx_comp_err(struct iser_tx_desc *tx_desc, struct isert_conn *isert_conn
 static void
 isert_cq_rx_comp_err(struct isert_conn *isert_conn)
 {
-	struct ib_device *ib_dev = isert_conn->conn_cm_id->device;
 	struct iscsi_conn *conn = isert_conn->conn;
 
 	if (isert_conn->post_recv_buf_count)
-- 
1.9.1

