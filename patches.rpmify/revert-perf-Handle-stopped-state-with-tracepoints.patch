From 96794cccdd233bd56f88cb95ca9e012bf4336333 Mon Sep 17 00:00:00 2001
From: Jiri Slaby <jslaby@suse.cz>
Date: Thu, 24 Mar 2011 08:54:18 +0100
Subject: Revert "perf: Handle stopped state with tracepoints"
Patch-mainline: queued for 2.6.32.35

This reverts commit 6f197b73304b3bd3d5a43b931383a5331d6b2987.

It breaks build.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 kernel/perf_event.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/kernel/perf_event.c b/kernel/perf_event.c
index f9af60f..183d437 100644
--- a/kernel/perf_event.c
+++ b/kernel/perf_event.c
@@ -4167,8 +4167,6 @@ static void tp_perf_event_destroy(struct perf_event *event)
 
 static const struct pmu *tp_perf_event_init(struct perf_event *event)
 {
-	if (event->hw.state & PERF_HES_STOPPED)
-		return 0;
 	/*
 	 * Raw tracepoint data is a severe data leak, only allow root to
 	 * have these.
-- 
1.7.4.1

