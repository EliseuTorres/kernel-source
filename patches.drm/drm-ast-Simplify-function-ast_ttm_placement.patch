From: Egbert Eich <eich@suse.de>
Date: Wed Jun 11 15:08:16 2014 +0200
Subject: drm/ast: Simplify function ast_ttm_placement()
Patch-mainline: to be upstreamed
References: 
Signed-off-by: Egbert Eich <eich@suse.com>

Signed-off-by: Egbert Eich <eich@suse.de>
---
 drivers/gpu/drm/ast/ast_ttm.c | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

diff --git a/drivers/gpu/drm/ast/ast_ttm.c b/drivers/gpu/drm/ast/ast_ttm.c
index f5cada0..5c4e251 100644
--- a/drivers/gpu/drm/ast/ast_ttm.c
+++ b/drivers/gpu/drm/ast/ast_ttm.c
@@ -315,12 +315,10 @@ int ast_bo_reserve(struct ast_bo *bo, bool no_wait)
 	int ret;
 
 	ret = ttm_bo_reserve(&bo->bo, true, no_wait, false, 0);
-	if (ret) {
-		if (ret != -ERESTARTSYS)
-			DRM_ERROR("reserve failed %p\n", bo);
-		return ret;
-	}
-	return 0;
+	if (ret && ret != -ERESTARTSYS)
+		DRM_ERROR("reserve failed %p\n", bo);
+
+	return ret;
 }
 
 void ast_bo_unreserve(struct ast_bo *bo)
