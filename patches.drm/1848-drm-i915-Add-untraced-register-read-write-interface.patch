From 16ad7dce994171b2f1829fb202f2722fe6174b43 Mon Sep 17 00:00:00 2001
From: Yuanhan Liu <yuanhan.liu@linux.intel.com>
Date: Mon, 8 Nov 2010 09:56:37 +0000
Patch-mainline: 2.6.38
References: fate#310916
Git-commit: 65e5ecb066fe54c13c8445d6acfdcdf149ad5df9
Subject: [PATCH 1848/2588] drm/i915: Add untraced register read/write
 interface

This will be used later to hide the frequently written registers
from debug traces in order to increase the signal-to-noise.

Signed-off-by: Yuanhan Liu <yuanhan.liu@linux.intel.com>
Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
(cherry picked from commit 65e5ecb066fe54c13c8445d6acfdcdf149ad5df9)

Signed-off-by: Takashi Iwai <tiwai@suse.de>
---
 drivers/gpu/drm/i915/i915_drv.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_drv.h b/drivers/gpu/drm/i915/i915_drv.h
index c13db65..97db377 100644
--- a/drivers/gpu/drm/i915/i915_drv.h
+++ b/drivers/gpu/drm/i915/i915_drv.h
@@ -1231,6 +1231,11 @@ i915_write(struct drm_i915_private *dev_priv, u32 reg, u64 val, int len)
 #define POSTING_READ(reg)	(void)I915_READ(reg)
 #define POSTING_READ16(reg)	(void)I915_READ16(reg)
 
+#define I915_READ_NOTRACE(reg)		readl(dev_priv->regs + (reg))
+#define I915_WRITE_NOTRACE(reg, val)	writel(val, dev_priv->regs + (reg))
+#define POSTING_READ_NOTRACE(reg)	(void)I915_READ_NOTRACE(reg)
+
+
 #define BEGIN_LP_RING(n) \
 	intel_ring_begin(&dev_priv->render_ring, (n))
 
-- 
1.7.6

