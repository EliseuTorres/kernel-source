From: Egbert Eich <Egbert Eich eich@suse.de>
Date: Thu May 2 11:53:48 2013 +0200
Subject: drm/mgag200: Simplify function mgag200_ttm_placement()
Patch-Mainline: to be upstreamed
Git-commit: e3fe9642c34d5a67adb0444a2f6ad997578b7677
Git-repo: git://people.freedesktop.org/~airlied/linux/
References: bnc #806990
Signed-off-by: Egbert Eich <eich@suse.com>

Signed-off-by: Egbert Eich <eich@suse.de>
---
 drivers/gpu/drm/mgag200/mgag200_ttm.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

--- linux-3.0-SLE11-SP3.orig/drivers/gpu/drm/mgag200/mgag200_ttm.c
+++ linux-3.0-SLE11-SP3/drivers/gpu/drm/mgag200/mgag200_ttm.c
@@ -314,12 +314,11 @@ int mgag200_bo_reserve(struct mgag200_bo
 	int ret;
 
 	ret = ttm_bo_reserve(&bo->bo, true, no_wait, false, 0);
-	if (ret) {
-		if (ret != -ERESTARTSYS)
-			DRM_ERROR("reserve failed %p\n", bo);
-		return ret;
-	}
-	return 0;
+
+	if (ret && ret != -ERESTARTSYS)
+		DRM_ERROR("reserve failed %p\n", bo);
+
+	return ret;
 }
 
 void mgag200_bo_unreserve(struct mgag200_bo *bo)
