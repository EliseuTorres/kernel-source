From: Takashi Iwai <tiwai@suse.de>
Subject: drm: Revert the new printk() format in drm_err() for 2.6.32
Patch-mainline: Never
References: fate#310916

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/gpu/drm/drm_stub.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

--- a/drivers/gpu/drm/drm_stub.c
+++ b/drivers/gpu/drm/drm_stub.c
@@ -65,16 +65,14 @@
 
 int drm_err(const char *func, const char *format, ...)
 {
-	struct va_format vaf;
 	va_list args;
 	int r;
 
-	va_start(args, format);
+	printk(KERN_ERR "[" DRM_NAME ":%s] *ERROR* ", func);
 
-	vaf.fmt = format;
-	vaf.va = &args;
+	va_start(args, format);
 
-	r = printk(KERN_ERR "[" DRM_NAME ":%s] *ERROR* %pV", func, &vaf);
+	r = vprintk(format, args);
 
 	va_end(args);
 
