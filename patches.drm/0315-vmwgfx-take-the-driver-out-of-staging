From 5a7b74beca675968f612ad6188808ed67ac58e36 Mon Sep 17 00:00:00 2001
From: Thomas Hellstrom <thellstrom@vmware.com>
Date: Tue, 11 Oct 2011 10:42:51 +0200
Subject: vmwgfx: Take the driver out of staging
Git-commit: 5a7b74beca675968f612ad6188808ed67ac58e36
Patch-mainline: v3.2-rc1

Also improve a bit on the Kconfig help.

Signed-off-by: Thomas Hellstrom <thellstrom@vmware.com>
Reviewed-by: Jakob Bornecrantz <jakob@vmware.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>
Acked-by: Michal Srb <msrb@suse.com>
---
 drivers/gpu/drm/Kconfig        |    4 +++-
 drivers/gpu/drm/vmwgfx/Kconfig |    9 +++++----
 drivers/staging/Kconfig        |    2 --
 3 files changed, 8 insertions(+), 7 deletions(-)

Index: linux-3.0-SLE11-SP3/drivers/gpu/drm/Kconfig
===================================================================
--- linux-3.0-SLE11-SP3.orig/drivers/gpu/drm/Kconfig
+++ linux-3.0-SLE11-SP3/drivers/gpu/drm/Kconfig
@@ -159,4 +159,6 @@ config DRM_SAVAGE
 	  Choose this option if you have a Savage3D/4/SuperSavage/Pro/Twister
 	  chipset. If M is selected the module will be called savage.
 
-source "drivers/gpu/drm/exynos/Kconfig"
\ No newline at end of file
+source "drivers/gpu/drm/exynos/Kconfig"
+
+source "drivers/gpu/drm/vmwgfx/Kconfig"
Index: linux-3.0-SLE11-SP3/drivers/gpu/drm/vmwgfx/Kconfig
===================================================================
--- linux-3.0-SLE11-SP3.orig/drivers/gpu/drm/vmwgfx/Kconfig
+++ linux-3.0-SLE11-SP3/drivers/gpu/drm/vmwgfx/Kconfig
@@ -7,7 +7,8 @@ config DRM_VMWGFX
 	select FB_CFB_IMAGEBLIT
 	select DRM_TTM
 	help
-	  KMS enabled DRM driver for SVGA2 virtual hardware.
-
-	  If unsure say n. The compiled module will be
-	  called vmwgfx.ko
+	  Choose this option if you would like to run 3D acceleration
+	  in a VMware virtual machine.
+	  This is a KMS enabled DRM driver for the VMware SVGA2
+	  virtual hardware.
+	  The compiled module will be called "vmwgfx.ko".
Index: linux-3.0-SLE11-SP3/drivers/staging/Kconfig
===================================================================
--- linux-3.0-SLE11-SP3.orig/drivers/staging/Kconfig
+++ linux-3.0-SLE11-SP3/drivers/staging/Kconfig
@@ -76,8 +76,6 @@ source "drivers/staging/phison/Kconfig"
 
 source "drivers/staging/line6/Kconfig"
 
-source "drivers/gpu/drm/vmwgfx/Kconfig"
-
 source "drivers/gpu/drm/nouveau/Kconfig"
 
 source "drivers/staging/octeon/Kconfig"
