From 1d5b5805c99492ab6c6ba13230ffd0aa7c71b78c Mon Sep 17 00:00:00 2001
From: Alex Deucher <alex@hp.localdomain>
Date: Mon, 16 Nov 2009 18:33:51 -0500
Patch-mainline: 2.6.33
References: fate#310916
Git-commit: fd874ad0a0dcf715333a3f3564c6486a3a90bb22
Subject: [PATCH 0094/2588] drm/radeon/kms: add quirk for MSI S270

doesn't have a tv-out port

Signed-off-by: Alex Deucher <alexdeucher@gmail.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>
(cherry picked from commit fd874ad0a0dcf715333a3f3564c6486a3a90bb22)

Signed-off-by: Takashi Iwai <tiwai@suse.de>
---
 drivers/gpu/drm/radeon/radeon_combios.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

diff --git a/drivers/gpu/drm/radeon/radeon_combios.c b/drivers/gpu/drm/radeon/radeon_combios.c
index f745971..adc4743 100644
--- a/drivers/gpu/drm/radeon/radeon_combios.c
+++ b/drivers/gpu/drm/radeon/radeon_combios.c
@@ -1715,6 +1715,12 @@ static bool radeon_apply_legacy_tv_quirks(struct drm_device *dev)
 	    dev->pdev->subsystem_device == 0x280a)
 		return false;
 
+	/* MSI S270 has non-existent TV port */
+	if (dev->pdev->device == 0x5955 &&
+	    dev->pdev->subsystem_vendor == 0x1462 &&
+	    dev->pdev->subsystem_device == 0x0131)
+		return false;
+
 	return true;
 }
 
-- 
1.7.6

