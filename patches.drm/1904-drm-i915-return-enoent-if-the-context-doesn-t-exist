From 0d326013763bd4610cb72d9e2fa7f8ff2f414995 Mon Sep 17 00:00:00 2001
From: Daniel Vetter <daniel.vetter@ffwll.ch>
Date: Tue, 19 Jun 2012 16:52:31 +0200
Subject: drm/i915: return -ENOENT if the context doesn't exist
Git-commit: 0d326013763bd4610cb72d9e2fa7f8ff2f414995
Patch-mainline: v3.6-rc1

This is our customary "no such object" errno, not -EINVAL.

Reviewed-by: Ben Widawsky <ben@bwidawsk.net>
Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
Acked-by: Michal Srb <msrb@suse.com>
---
 drivers/gpu/drm/i915/i915_gem_context.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_gem_context.c b/drivers/gpu/drm/i915/i915_gem_context.c
index 047f81c..f775d86 100644
--- a/drivers/gpu/drm/i915/i915_gem_context.c
+++ b/drivers/gpu/drm/i915/i915_gem_context.c
@@ -460,7 +460,7 @@ int i915_switch_context(struct intel_ring_buffer *ring,
 	} else {
 		to = i915_gem_context_get(file_priv, to_id);
 		if (to == NULL)
-			return -EINVAL;
+			return -ENOENT;
 	}
 
 	if (from_obj == to->obj)
@@ -526,7 +526,7 @@ int i915_gem_context_destroy_ioctl(struct drm_device *dev, void *data,
 	ctx = i915_gem_context_get(file_priv, args->ctx_id);
 	if (!ctx) {
 		mutex_unlock(&dev->struct_mutex);
-		return -EINVAL;
+		return -ENOENT;
 	}
 
 	do_destroy(ctx);

