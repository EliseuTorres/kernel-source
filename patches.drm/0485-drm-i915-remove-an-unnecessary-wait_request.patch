From 271f55bf775379bf7aed41e6e5cdb31b0abc8d63 Mon Sep 17 00:00:00 2001
From: "Owain G. Ainsworth" <zerooa@googlemail.com>
Date: Wed, 3 Mar 2010 05:34:29 +0000
Patch-mainline: 2.6.34
References: fate#310916
Git-commit: 5d9391628e8eb3b0830697697a95bfd0c3c35b9e
Subject: [PATCH 0485/2588] drm/i915: remove an unnecessary wait_request()

The continue just after this call with loop around and wait for the
request just added just fine. This leads to slightly more compact code.

Signed-Off-by: Owain G. Ainsworth <oga@openbsd.org>
Signed-off-by: Eric Anholt <eric@anholt.net>
(cherry picked from commit 5d9391628e8eb3b0830697697a95bfd0c3c35b9e)

Signed-off-by: Takashi Iwai <tiwai@suse.de>
---
 drivers/gpu/drm/i915/i915_gem.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_gem.c b/drivers/gpu/drm/i915/i915_gem.c
index f940d18..5f09071 100644
--- a/drivers/gpu/drm/i915/i915_gem.c
+++ b/drivers/gpu/drm/i915/i915_gem.c
@@ -2224,11 +2224,6 @@ i915_gem_evict_something(struct drm_device *dev, int min_size)
 				seqno = i915_add_request(dev, NULL, obj->write_domain);
 				if (seqno == 0)
 					return -ENOMEM;
-
-				ret = i915_wait_request(dev, seqno);
-				if (ret)
-					return ret;
-
 				continue;
 			}
 		}
-- 
1.7.6

