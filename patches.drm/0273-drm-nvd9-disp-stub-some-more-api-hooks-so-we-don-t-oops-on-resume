From c20ab3e1cb0bb8e2c9a54a49b4637c61512ed856 Mon Sep 17 00:00:00 2001
From: Ben Skeggs <bskeggs@redhat.com>
Date: Thu, 25 Aug 2011 14:09:43 +1000
Subject: drm/nvd9/disp: stub some more api hooks so we don't oops on resume
Git-commit: c20ab3e1cb0bb8e2c9a54a49b4637c61512ed856
Patch-mainline: v3.2-rc1

Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
Acked-by: Michal Srb <msrb@suse.com>
---
 drivers/gpu/drm/nouveau/nvd0_display.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

diff --git a/drivers/gpu/drm/nouveau/nvd0_display.c b/drivers/gpu/drm/nouveau/nvd0_display.c
index 20ab2c2..20072fb 100644
--- a/drivers/gpu/drm/nouveau/nvd0_display.c
+++ b/drivers/gpu/drm/nouveau/nvd0_display.c
@@ -522,6 +522,16 @@ static const struct drm_crtc_funcs nvd0_crtc_func = {
 	.destroy = nvd0_crtc_destroy,
 };
 
+static void
+nvd0_cursor_set_pos(struct nouveau_crtc *nv_crtc, int x, int y)
+{
+}
+
+static void
+nvd0_cursor_set_offset(struct nouveau_crtc *nv_crtc, uint32_t offset)
+{
+}
+
 static int
 nvd0_crtc_create(struct drm_device *dev, int index)
 {
@@ -536,6 +546,8 @@ nvd0_crtc_create(struct drm_device *dev, int index)
 	nv_crtc->index = index;
 	nv_crtc->set_dither = nvd0_crtc_set_dither;
 	nv_crtc->set_scale = nvd0_crtc_set_scale;
+	nv_crtc->cursor.set_offset = nvd0_cursor_set_offset;
+	nv_crtc->cursor.set_pos = nvd0_cursor_set_pos;
 	for (i = 0; i < 256; i++) {
 		nv_crtc->lut.r[i] = i << 8;
 		nv_crtc->lut.g[i] = i << 8;

