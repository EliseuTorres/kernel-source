From d2491567cdbcb87b2682e0948a69d73c4dd8987e Mon Sep 17 00:00:00 2001
From: Ben Skeggs <bskeggs@redhat.com>
Date: Mon, 31 Oct 2011 12:14:10 +1000
Subject: drm/nv50/pm: only touch 0x611200 on nv92-
Git-commit: d2491567cdbcb87b2682e0948a69d73c4dd8987e
Patch-mainline: v3.3-rc1

Signed-off-by: Ben Skeggs <bskeggs@redhat.com>
Acked-by: Michal Srb <msrb@suse.com>
---
 drivers/gpu/drm/nouveau/nv50_pm.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/nouveau/nv50_pm.c b/drivers/gpu/drm/nouveau/nv50_pm.c
index 961d8f2..e7ff5ac 100644
--- a/drivers/gpu/drm/nouveau/nv50_pm.c
+++ b/drivers/gpu/drm/nouveau/nv50_pm.c
@@ -594,8 +594,10 @@ nv50_pm_clocks_set(struct drm_device *dev, void *data)
 	}
 
 	/* disable display */
-	nv_wr32(dev, 0x611200, 0x00003300);
-	udelay(100);
+	if (dev_priv->chipset >= 0x92) {
+		nv_wr32(dev, 0x611200, 0x00003300);
+		udelay(100);
+	}
 
 	/* prepare ram for reclocking */
 	nv_wr32(dev, 0x1002d4, 0x00000001); /* precharge */
@@ -617,7 +619,8 @@ nv50_pm_clocks_set(struct drm_device *dev, void *data)
 	udelay(100);
 
 	/* re-enable display */
-	nv_wr32(dev, 0x611200, 0x00003330);
+	if (dev_priv->chipset >= 0x92)
+		nv_wr32(dev, 0x611200, 0x00003330);
 
 	goto resume;
 error:

