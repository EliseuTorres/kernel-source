From: Mark Fasheh <mfasheh@suse.de>
Date: Sat Sep 14 23:17:40 PDT 2013
Subject: dlm: remove get_comm
Patch-mainline: Never, changes only apply to our kernel
References: bnc#827670

Remove get_comm and put_comm from fs/dlm/config.c - this silences a
warning. The functions calling get/put_comm were removed by the
previous path in this series.

Signed-off-by: Mark Fasheh <mfasheh@suse.de>

Index: linux-3.0-bnc827670/fs/dlm/config.c
===================================================================
--- linux-3.0-bnc827670.orig/fs/dlm/config.c
+++ linux-3.0-bnc827670/fs/dlm/config.c
@@ -793,37 +793,6 @@ static void put_space(struct dlm_space *
 	config_item_put(&sp->group.cg_item);
 }
 
-static struct dlm_comm *get_comm(int nodeid)
-{
-	struct config_item *i;
-	struct dlm_comm *cm = NULL;
-	int found = 0;
-
-	if (!comm_list)
-		return NULL;
-
-	mutex_lock(&clusters_root.subsys.su_mutex);
-
-	list_for_each_entry(i, &comm_list->cg_children, ci_entry) {
-		cm = config_item_to_comm(i);
-
-		if (cm->nodeid != nodeid)
-			continue;
-		found = 1;
-		config_item_get(i);
-		break;
-	}
-	mutex_unlock(&clusters_root.subsys.su_mutex);
-
-	if (!found)
-		cm = NULL;
-	return cm;
-}
-
-static void put_comm(struct dlm_comm *cm)
-{
-	config_item_put(&cm->item);
-}
 
 /* caller must free mem */
 int dlm_nodeid_list(char *lsname, int **ids_out, int *ids_count_out,
