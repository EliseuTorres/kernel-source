Subject: kernel/stop_machine.c: fix unused variable warning
From: Rakib Mullick <rakib.mullick@gmail.com>
Date: Tue Oct 26 14:22:44 2010 -0700
Patch-mainline: commit ca51c5a76345b28c6f1b742f9f5f0a6fc9afd9ca
References:

kernel/stop_machine.c: In function `cpu_stopper_thread':
kernel/stop_machine.c:265: warning: unused variable `ksym_buf'

ksym_buf[] is unused if WARN_ON() is a no-op.

Signed-off-by: Rakib Mullick <rakib.mullick@gmail.com>
Cc: Ingo Molnar <mingo@elte.hu>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
Acked-by: Mike Galbraith <mgalbraith@suse.de>

---
 kernel/stop_machine.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-2.6.32/kernel/stop_machine.c
===================================================================
--- linux-2.6.32.orig/kernel/stop_machine.c
+++ linux-2.6.32/kernel/stop_machine.c
@@ -262,7 +262,7 @@ repeat:
 		cpu_stop_fn_t fn = work->fn;
 		void *arg = work->arg;
 		struct cpu_stop_done *done = work->done;
-		char ksym_buf[KSYM_NAME_LEN];
+		char ksym_buf[KSYM_NAME_LEN] __maybe_unused;
 
 		__set_current_state(TASK_RUNNING);
 
