From: Michal Nazarewicz <m.nazarewicz@samsung.com>
Date: Tue, 21 Dec 2010 17:24:26 -0800
Subject: [PATCH] mm/migrate.c: fix compilation error
References: Compaction/reclaim fixes (fate#311931)
Patch-mainline: yes (2.6.37)
Git-commit: 0d1836c366157994474afd29632992375a3dd20c

GCC complained about update_mmu_cache() not being defined in migrate.c.
Including <asm/tlbflush.h> seems to solve the problem.

Signed-off-by: Michal Nazarewicz <m.nazarewicz@samsung.com>
Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
Signed-off-by: Mel Gorman <mgorman@suse.de>
---
 mm/migrate.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/mm/migrate.c b/mm/migrate.c
index 6d17d83..89a073e 100644
--- a/mm/migrate.c
+++ b/mm/migrate.c
@@ -33,6 +33,8 @@
 #include <linux/memcontrol.h>
 #include <linux/syscalls.h>
 
+#include <asm/tlbflush.h>
+
 #include "internal.h"
 
 #define lru_to_page(_head) (list_entry((_head)->prev, struct page, lru))

