Subject: Staging: hv: storvsc: Fixup the error when processing SET_WINDOW command
From: <ohering@suse.de>
Patch-mainline: 3.3

Fixup the error when processing SET_WINDOW command.

Signed-off-by: K. Y. Srinivasan <kys@microsoft.com>
Signed-off-by: Haiyang Zhang <haiyangz@microsoft.com>
---
 drivers/staging/hv/storvsc_drv.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/staging/hv/storvsc_drv.c
+++ b/drivers/staging/hv/storvsc_drv.c
@@ -1135,7 +1135,7 @@ static bool storvsc_check_scsi_cmd(struc
 	switch (scsi_op) {
 		/* smartd sends this command, which will offline the device */
 		case SET_WINDOW:
-			scmnd->result = DID_ERROR << 16;
+			scmnd->result = ILLEGAL_REQUEST << 16;
 			allowed = false;
 			break;
 		default:
