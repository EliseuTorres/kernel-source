From ec2475559876ce9ea8d5f0da6154a42de6e58293 Mon Sep 17 00:00:00 2001
From: Josef Bacik <jbacik@fb.com>
Date: Tue, 20 May 2014 09:23:31 -0400
Subject: [PATCH] Btrfs: free tmp ulist for qgroup rescan
References: bnc#865621
Patch-mainline: pending
Git-repo: git://git.kernel.org/pub/scm/linux/kernel/git/mason/linux-btrfs.git
Git-commit: ec2475559876ce9ea8d5f0da6154a42de6e58293

Memory leaks are bad mmkay?

Signed-off-by: Josef Bacik <jbacik@fb.com>
Signed-off-by: Chris Mason <clm@fb.com>
Signed-off-by: Mark Fasheh <mfasheh@suse.de>
---
 fs/btrfs/qgroup.c | 1 +
 1 file changed, 1 insertion(+)

Index: linux-3.12-btrfs-qgroup-fixes/fs/btrfs/qgroup.c
===================================================================
--- linux-3.12-btrfs-qgroup-fixes.orig/fs/btrfs/qgroup.c
+++ linux-3.12-btrfs-qgroup-fixes/fs/btrfs/qgroup.c
@@ -2455,6 +2455,7 @@ static void btrfs_qgroup_rescan_worker(s
 out:
 	kfree(scratch_leaf);
 	ulist_free(qgroups);
+	ulist_free(tmp);
 	btrfs_free_path(path);
 
 	mutex_lock(&fs_info->qgroup_rescan_lock);
