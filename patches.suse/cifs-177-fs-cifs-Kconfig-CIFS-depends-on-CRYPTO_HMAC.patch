From: Steve French <sfrench@us.ibm.com>
Date: Sun, 14 Nov 2010 03:34:30 +0000
Subject: [CIFS] fs/cifs/Kconfig: CIFS depends on CRYPTO_HMAC
References: FATE#311695
Git-commit: 362d31297fafb150676f4d564ecc7f7f3e3b7fd4
Patch-mainline: v2.6.37-rc5

linux-2.6.37-rc1: I compiled a kernel with CIFS which subsequently
failed with an error indicating it couldn't initialize crypto module
"hmacmd5".  CONFIG_CRYPTO_HMAC=y fixed the problem.

This patch makes CIFS depend on CRYPTO_HMAC in kconfig.

Signed-off-by: Jody Bruchon<jody@nctritech.com>
CC: Shirish Pargaonkar <shirishp@us.ibm.com>
Signed-off-by: Steve French <sfrench@us.ibm.com>
Signed-off-by: Suresh Jayaraman <sjayaraman@suse.de>
---
 fs/cifs/Kconfig |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

Index: linux-2.6.32-SLE11-SP2/fs/cifs/Kconfig
===================================================================
--- linux-2.6.32-SLE11-SP2.orig/fs/cifs/Kconfig
+++ linux-2.6.32-SLE11-SP2/fs/cifs/Kconfig
@@ -5,6 +5,7 @@ config CIFS
 	select SLOW_WORK
 	select CRYPTO
 	select CRYPTO_MD5
+	select CRYPTO_HMAC
 	select CRYPTO_ARC4
 	help
 	  This is the client VFS module for the Common Internet File System
