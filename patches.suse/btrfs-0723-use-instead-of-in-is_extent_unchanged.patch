From: Alexander Block <ablock84@googlemail.com>
Date: Wed, 1 Aug 2012 12:49:15 +0200
Patch-mainline: 3.7
Git-commit: d8347fa444c682dc8a1e24e7158bfa2dd4c9ca71
References: FATE#312888
Subject: [PATCH] Btrfs: use <= instead of < in is_extent_unchanged

Used the wrong compare operator here.

Reported-by: Alex Lyakas <alex.bolshoy.btrfs@gmail.com>
Signed-off-by: Alexander Block <ablock84@googlemail.com>
Signed-off-by: David Sterba <dsterba@suse.cz>
---
 fs/btrfs/send.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/fs/btrfs/send.c
+++ b/fs/btrfs/send.c
@@ -3801,7 +3801,7 @@ static int is_extent_unchanged(struct se
 		 * Are we at extent 8? If yes, we know the extent is changed.
 		 * This may only happen on the first iteration.
 		 */
-		if (found_key.offset + right_len < ekey->offset) {
+		if (found_key.offset + right_len <= ekey->offset) {
 			ret = 0;
 			goto out;
 		}
