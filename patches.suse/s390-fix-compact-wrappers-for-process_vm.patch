From: Heiko Carstens <heiko.carstens@de.ibm.com>
Date: Tue, 11 Dec 2012 10:24:29 +0000
Subject: [PATCH] s390/compat: fix compat wrappers for process_vm system calls

Patch-mainline: v3.6-rc2
Git-Commit: 82aabdb6f1eb61e0034ec23901480f5dd23db7c4
References: fate#314242,bnc#791491

Summary:     kernel: Leverage Cross Memory Attach Functionality for System z
Description: Make the process_vm system calls available on s390.

Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
Signed-off-by: Mel Gorman <mgorman@suse.de>
---
 arch/s390/kernel/compat_wrapper.S |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/s390/kernel/compat_wrapper.S b/arch/s390/kernel/compat_wrapper.S
index 0f74cd5..5274a88 100644
--- a/arch/s390/kernel/compat_wrapper.S
+++ b/arch/s390/kernel/compat_wrapper.S
@@ -1919,7 +1919,7 @@ compat_sys_process_vm_readv_wrapper:
 	llgfr	%r6,%r6			# unsigned long
 	llgf	%r0,164(%r15)		# unsigned long
 	stg	%r0,160(%r15)
-	jg	sys_process_vm_readv
+	jg	compat_sys_process_vm_readv
 
 compat_sys_process_vm_writev_wrapper:
 	lgfr	%r2,%r2			# compat_pid_t
@@ -1929,4 +1929,4 @@ compat_sys_process_vm_writev_wrapper:
 	llgfr	%r6,%r6			# unsigned long
 	llgf	%r0,164(%r15)		# unsigned long
 	stg	%r0,160(%r15)
-	jg	sys_process_vm_writev
+	jg	compat_sys_process_vm_writev
