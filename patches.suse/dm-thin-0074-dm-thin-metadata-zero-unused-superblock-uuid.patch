Git-commit: 583ceee2ed1d171718aee348163f2ed25d461772
From: Joe Thornber <ejt@redhat.com>
Date: Fri, 27 Jul 2012 15:08:11 +0100
Subject: [PATCH] dm thin metadata: zero unused superblock uuid
Patch-mainline: v3.6-rc1
Reference: FATE#313903

Zero the unused uuid when initialising the metadata superblock.

Signed-off-by: Joe Thornber <ejt@redhat.com>
Signed-off-by: Mike Snitzer <snitzer@redhat.com>
Signed-off-by: Alasdair G Kergon <agk@redhat.com>
Acked-by: NeilBrown <nfbrown@suse.com>

---
 drivers/md/dm-thin-metadata.c |    1 +
 1 file changed, 1 insertion(+)

--- linux-3.0-SLE11-SP3.orig/drivers/md/dm-thin-metadata.c
+++ linux-3.0-SLE11-SP3/drivers/md/dm-thin-metadata.c
@@ -455,6 +455,7 @@ static int __write_initial_superblock(st
 
 	disk_super = dm_block_data(sblock);
 	disk_super->flags = 0;
+	memset(disk_super->uuid, 0, sizeof(disk_super->uuid));
 	disk_super->magic = cpu_to_le64(THIN_SUPERBLOCK_MAGIC);
 	disk_super->version = cpu_to_le32(THIN_VERSION);
 	disk_super->time = 0;
