From: Alexander Block <ablock84@googlemail.com>
Date: Sat, 28 Jul 2012 12:51:32 +0200
Patch-mainline: 3.7
Git-commit: adbe7fb6c4750621a56867d9bb1980da3a4b8f33
References: FATE#312888
Subject: [PATCH] Btrfs: don't break in the final loop of
 find_extent_clone

If we break, we may miss the clone from send_root which we prefer
over all other clones.

Commit is a result of Arne's review.

Reported-by: Arne Jansen <sensille@gmx.net>
Signed-off-by: Alexander Block <ablock84@googlemail.com>
Signed-off-by: David Sterba <dsterba@suse.cz>
---
 fs/btrfs/send.c |    1 -
 1 file changed, 1 deletion(-)

--- a/fs/btrfs/send.c
+++ b/fs/btrfs/send.c
@@ -1257,7 +1257,6 @@ verbose_printk(KERN_DEBUG "btrfs: find_e
 			else if (sctx->clone_roots[i].root == sctx->send_root)
 				/* prefer clones from send_root over others */
 				cur_clone_root = sctx->clone_roots + i;
-			break;
 		}
 
 	}
