From: Mel Gorman <mgorman@suse.de>
Date: Wed, 14 Dec 2011 15:33:48 +0000
Subject: [PATCH] mm: compaction: Introduce sync-light migration for use by compaction hugetlbfs fix
References: Reduce major stalls due to THP and compaction
Patch-mainline: Never, compile fix

Update the signature of the hugetlbfs migrate function.

Signed-off-by: Mel Gorman <mgorman@suse.de>
---
 fs/hugetlbfs/inode.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/fs/hugetlbfs/inode.c b/fs/hugetlbfs/inode.c
index 7aafeb8..559f663 100644
--- a/fs/hugetlbfs/inode.c
+++ b/fs/hugetlbfs/inode.c
@@ -575,7 +575,8 @@ static int hugetlbfs_set_page_dirty(struct page *page)
 }
 
 static int hugetlbfs_migrate_page(struct address_space *mapping,
-				struct page *newpage, struct page *page)
+				struct page *newpage, struct page *page,
+				enum migrate_mode mode)
 {
 	int rc;
 
