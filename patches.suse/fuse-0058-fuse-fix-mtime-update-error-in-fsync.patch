From: Miklos Szeredi <mszeredi@suse.cz>
Date: Mon, 28 Apr 2014 14:19:21 +0200
Subject: fuse: fix mtime update error in fsync
Git-commit: aeb4eb6b55261f44d3705f0a3b9e4906bfa5e416
Patch-mainline: v3.15-rc5
References: FATE#317677

Bad case of shadowing.

Signed-off-by: Miklos Szeredi <mszeredi@suse.cz>
---
 fs/fuse/file.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/fs/fuse/file.c
+++ b/fs/fuse/file.c
@@ -475,7 +475,7 @@ int fuse_fsync_common(struct file *file,
 	fuse_sync_writes(inode);
 
 	if (test_bit(FUSE_I_MTIME_DIRTY, &get_fuse_inode(inode)->state)) {
-		int err = fuse_flush_mtime(file, false);
+		err = fuse_flush_mtime(file, false);
 		if (err)
 			goto out;
 	}
