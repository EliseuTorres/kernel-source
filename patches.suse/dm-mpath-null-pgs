From: Hannes Reinecke <hare@suse.de>
Subject: Allow zero paths for multipath priority groups
References: bnc#372684
Git-commit: a490a07a67b7a37f588021410e06b721a752fc34
Patch-mainline: v2.6.39-rc1

For correct handling of the all-paths-down scenario we have to
allow zero paths as a valid argument for priority groups.

Signed-off-by: Hannes Reinecke <hare@suse.de>

---
 drivers/md/dm-mpath.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/drivers/md/dm-mpath.c
+++ b/drivers/md/dm-mpath.c
@@ -854,8 +854,8 @@ static int multipath_ctr(struct dm_targe
 {
 	/* target parameters */
 	static struct param _params[] = {
-		{1, 1024, "invalid number of priority groups"},
-		{1, 1024, "invalid initial priority group number"},
+		{0, 1024, "invalid number of priority groups"},
+		{0, 1024, "invalid initial priority group number"},
 	};
 
 	int r;


