From: Thomas Renninger <trenn@suse.de>
Subject: X86 KDB: Reduce timeout for key blinking LEDs
Patch-Mainline: not yet
References: bnc#528811

Looks like on some boards without PS2 support, the
whole loop is gone through which takes several minutes.

Signed-off-by: Thomas Renninger <trenn@suse.de>

---
 arch/x86/kdb/kdba_io.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/arch/x86/kdb/kdba_io.c
+++ b/arch/x86/kdb/kdba_io.c
@@ -303,10 +303,10 @@ static void
 kdb_kbdsend(unsigned char byte)
 {
 	int timeout;
-	for (timeout = 200 * 1000; timeout && (inb(KBD_STATUS_REG) & KBD_STAT_IBF); timeout--);
+	for (timeout = 200; timeout && (inb(KBD_STATUS_REG) & KBD_STAT_IBF); timeout--);
 	outb(byte, KBD_DATA_REG);
 	udelay(40);
-	for (timeout = 200 * 1000; timeout && (~inb(KBD_STATUS_REG) & KBD_STAT_OBF); timeout--);
+	for (timeout = 200; timeout && (~inb(KBD_STATUS_REG) & KBD_STAT_OBF); timeout--);
 	inb(KBD_DATA_REG);
 	udelay(40);
 }
