From: Jens Axboe <jaxboe@fusionio.com>
Date: Mon, 21 Jun 2010 09:10:55 +0200
Subject: [PATCH] cfq: fix recursive call in cfq_blkiocg_update_completion_stats()
Git-commit: 9e495db1a1f931e82c9edccd677dd171be5b85d2
References: FATE#311692
Patch-Mainline: 2.6.35

e98ef89b has a typo, causing cfq_blkiocg_update_completion_stats()
to call itself instead of blkiocg_update_completion_stats().

Reported-by: Ingo Molnar <mingo@elte.hu>
Signed-off-by: Jens Axboe <jaxboe@fusionio.com>
Signed-off-by: Hannes Reinecke <hare@suse.de>

diff --git a/block/cfq.h b/block/cfq.h
index 8783318..93448e5 100644
--- a/block/cfq.h
+++ b/block/cfq.h
@@ -63,7 +63,7 @@ static inline void cfq_blkiocg_update_dispatch_stats(struct blkio_group *blkg,
 
 static inline void cfq_blkiocg_update_completion_stats(struct blkio_group *blkg, uint64_t start_time, uint64_t io_start_time, bool direction, bool sync)
 {
-	cfq_blkiocg_update_completion_stats(blkg, start_time, io_start_time,
+	blkiocg_update_completion_stats(blkg, start_time, io_start_time,
 				direction, sync);
 }
 

