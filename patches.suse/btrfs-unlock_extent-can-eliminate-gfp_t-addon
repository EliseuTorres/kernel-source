From: David Sterba <dsterba@suse.com>
Subject: fixup -- btrfs: unlock_extent can drop gfp_t argument
Patch-mainline: Submitted 23 Nov 2011 to linux-btrfs

Standalone fixup for:
btrfs-8014-add-new-ioctl-to-determine-size-of-compressed-.patch

on top of:
btrfs-unlock_extent-can-eliminate-gfp_t

Both patches are not yet merged and do not share a common base, the fixup is
kept separately to be clearly visible.

Signed-off-by: David Sterba <dsterba@suse.cz>
---
 fs/btrfs/ioctl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/fs/btrfs/ioctl.c
+++ b/fs/btrfs/ioctl.c
@@ -3033,7 +3033,7 @@ static long btrfs_ioctl_compr_size(struc
 		offset += em->len;
 		free_extent_map(em);
 	}
-	unlock_extent(&BTRFS_I(inode)->io_tree, compr_args.start, len, GFP_NOFS);
+	unlock_extent(&BTRFS_I(inode)->io_tree, compr_args.start, len);
 	mutex_unlock(&inode->i_mutex);
 
 	compr_args.size = size >> 9;
@@ -3046,7 +3046,7 @@ static long btrfs_ioctl_compr_size(struc
 	return 0;
 
 error:
-	unlock_extent(&BTRFS_I(inode)->io_tree, compr_args.start, len, GFP_NOFS);
+	unlock_extent(&BTRFS_I(inode)->io_tree, compr_args.start, len);
 	mutex_unlock(&inode->i_mutex);
 
 	return -EIO;
