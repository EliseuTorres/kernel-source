From 248505da0f98c823b626aac1160b3cdc8e54e10c Mon Sep 17 00:00:00 2001
From: Jiri Slaby <jslaby@suse.cz>
Date: Tue, 28 Jul 2015 15:54:25 +0200
Subject: [PATCH 1/2] Revert "mmc: sdhci: fix low memory corruption"
Patch-mainline: no
References: bnc#934531

This reverts commit 62a7f368ffbc13d9aedfdd7aeae711b177db69ac.
---
 drivers/mmc/host/sdhci.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/mmc/host/sdhci.c b/drivers/mmc/host/sdhci.c
index 9231cdfe2757..c80287a02735 100644
--- a/drivers/mmc/host/sdhci.c
+++ b/drivers/mmc/host/sdhci.c
@@ -848,7 +848,7 @@ static void sdhci_prepare_data(struct sdhci_host *host, struct mmc_command *cmd)
 			int sg_cnt;
 
 			sg_cnt = sdhci_pre_dma_transfer(host, data, NULL);
-			if (sg_cnt <= 0) {
+			if (sg_cnt == 0) {
 				/*
 				 * This only happens when someone fed
 				 * us an invalid request.
-- 
2.1.4

