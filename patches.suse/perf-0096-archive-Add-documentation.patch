From: Arnaldo Carvalho de Melo <acme@redhat.com>
Date: Mon, 18 Jan 2010 15:59:19 -0200
Subject: [PATCH 096/279] perf archive: Add documentation
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Git-commit: e8d433f335d44028d41af231ef5c52fd8a9b280b
Patch-mainline: v2.6.34-rc1
References: FATE#311392, BNC#685313
Signed-off-by: Tony Jones <tonyj@suse.de>

This also makes it appear on the 'perf --help' output, i.e.
util/generate-cmdlist.sh now takes it into account.

Signed-off-by: Arnaldo Carvalho de Melo <acme@redhat.com>
Cc: Frédéric Weisbecker <fweisbec@gmail.com>
Cc: Mike Galbraith <efault@gmx.de>
Cc: Peter Zijlstra <a.p.zijlstra@chello.nl>
Cc: Paul Mackerras <paulus@samba.org>
LKML-Reference: <1263837559-24168-1-git-send-email-acme@infradead.org>
Signed-off-by: Ingo Molnar <mingo@elte.hu>
Signed-off-by: Robert Richter <robert.richter@amd.com>
---
 tools/perf/Documentation/perf-archive.txt |   22 ++++++++++++++++++++++
 tools/perf/command-list.txt               |    2 +-
 2 files changed, 23 insertions(+), 1 deletions(-)
 create mode 100644 tools/perf/Documentation/perf-archive.txt

diff --git a/tools/perf/Documentation/perf-archive.txt b/tools/perf/Documentation/perf-archive.txt
new file mode 100644
index 0000000..fae174d
--- /dev/null
+++ b/tools/perf/Documentation/perf-archive.txt
@@ -0,0 +1,22 @@
+perf-archive(1)
+===============
+
+NAME
+----
+perf-archive - Create archive with object files with build-ids found in perf.data file
+
+SYNOPSIS
+--------
+[verse]
+'perf archive' [file]
+
+DESCRIPTION
+-----------
+This command runs runs perf-buildid-list --with-hits, and collects the files
+with the buildids found so that analisys of perf.data contents can be possible
+on another machine.
+
+
+SEE ALSO
+--------
+linkperf:perf-record[1], linkperf:perf-buildid-list[1], linkperf:perf-report[1]
diff --git a/tools/perf/command-list.txt b/tools/perf/command-list.txt
index f73d1d9..cf6444d 100644
--- a/tools/perf/command-list.txt
+++ b/tools/perf/command-list.txt
@@ -3,7 +3,7 @@
 # command name			category [deprecated] [common]
 #
 perf-annotate			mainporcelain common
-perf-archive			mainporcelain
+perf-archive			mainporcelain common
 perf-bench			mainporcelain common
 perf-buildid-list		mainporcelain common
 perf-diff			mainporcelain common
-- 
1.7.3.4

