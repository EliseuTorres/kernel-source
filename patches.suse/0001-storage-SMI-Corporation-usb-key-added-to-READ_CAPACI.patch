From dc4f301edcd249cddfd507a371153c6fbf27fbd3 Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oneukum@suse.de>
Date: Thu, 14 Nov 2013 19:56:54 +0100
Git-Commit: dc4f301edcd249cddfd507a371153c6fbf27fbd3
Patch-Mainline: Never (generic upstream fix breaks kABI)
Reference: bnc#850324
Subject: [PATCH] storage: SMI Corporation usb key added to READ_CAPACITY_10
 quirk

This device reports bogus medium sizes

Signed-off-by: Oliver Neukum <oneukum@suse.de>
---
 drivers/usb/storage/unusual_devs.h | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/drivers/usb/storage/unusual_devs.h b/drivers/usb/storage/unusual_devs.h
index e073e2f..63c43de 100644
--- a/drivers/usb/storage/unusual_devs.h
+++ b/drivers/usb/storage/unusual_devs.h
@@ -1133,6 +1133,15 @@ UNUSUAL_DEV( 0x090a, 0x1200, 0x0000, 0x9999,
 		"MP3 player",
 		USB_SC_RBC, USB_PR_BULK, NULL,
 		0 ),
+/*
+ * Scott Barnum
+ * The key reports bogus sizes
+ */
+UNUSUAL_DEV(  0x090c, 0x1000, 0x0000, 0x9999,
+		"SMI Corporation",
+		"USB DISK",
+		USB_SC_DEVICE, USB_PR_DEVICE, NULL,
+		US_FL_NO_READ_CAPACITY_16 ),
 
 /* aeb */
 UNUSUAL_DEV( 0x090c, 0x1132, 0x0000, 0xffff,
@@ -2028,7 +2037,6 @@ UNUSUAL_DEV(  0x4146, 0xba01, 0x0100, 0x0100,
 		"Iomega",
 		"Micro Mini 1GB",
 		USB_SC_DEVICE, USB_PR_DEVICE, NULL, US_FL_NOT_LOCKABLE ),
-
 /*
  * Nick Bowler <nbowler@elliptictech.com>
  * SCSI stack spams (otherwise harmless) error messages.
-- 
1.8.3.1

