From: Robert Richter <robert.richter@amd.com>
Date: Thu, 26 Aug 2010 12:30:17 +0200
Subject: [PATCH 33/50] oprofile, x86: Add support for AMD family 14h
Patch-mainline: v2.6.37-rc1
Git-commit: e63414740e15b4e2dc54c63fb9ea501b257fb0b5
References: FATE#309728, FATE#309730, BNC#686840
Signed-off-by: Tony Jones <tonyj@suse.de>

This patch adds support for AMD family 14h (Ontario/Zacate) cpus.

Signed-off-by: Robert Richter <robert.richter@amd.com>
---
 arch/x86/oprofile/nmi_int.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/arch/x86/oprofile/nmi_int.c b/arch/x86/oprofile/nmi_int.c
index 71e0a60..cfc701c 100644
--- a/arch/x86/oprofile/nmi_int.c
+++ b/arch/x86/oprofile/nmi_int.c
@@ -787,6 +787,9 @@ int __init op_nmi_init(struct oprofile_operations *ops)
 		case 0x12:
 			cpu_type = "x86-64/family12h";
 			break;
+		case 0x14:
+			cpu_type = "x86-64/family14h";
+			break;
 		default:
 			return -ENODEV;
 		}
-- 
1.7.3.4

