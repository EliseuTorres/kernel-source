From: Thomas Renninger <trenn@suse.de>
Subject: Provide possibility for vendors to workaround WIN-P key issue
References: kernel@suse.de list, subject: About acpi osi string for SUSE issue
Patch-Mainline: never

WIN-P key combination is sent on quite some Windows 7 supporting
laptops.
This makes quite some trouble because this key combination is
used by our Window manager already.
For SLE provide a possibility for vendors to workaround this issue
in BIOS, because mainline backports to address this are too intrusive
and may have side effects which could be seen as regressions.

Signed-off-by: Thomas Renninger <trenn@suse.de>

---
 drivers/acpi/acpica/aclocal.h |    1 +
 drivers/acpi/acpica/utosi.c   |    2 ++
 2 files changed, 3 insertions(+)

Index: linux-3.0-SLE11-SP2/drivers/acpi/acpica/aclocal.h
===================================================================
--- linux-3.0-SLE11-SP2.orig/drivers/acpi/acpica/aclocal.h
+++ linux-3.0-SLE11-SP2/drivers/acpi/acpica/aclocal.h
@@ -900,6 +900,7 @@ struct acpi_bit_register_info {
 #define ACPI_OSI_WIN_VISTA_SP1          0x09
 #define ACPI_OSI_WIN_VISTA_SP2          0x0A
 #define ACPI_OSI_WIN_7                  0x0B
+#define ACPI_OSI_NOT_WINP_KEY           0x0C
 
 #define ACPI_ALWAYS_ILLEGAL             0x00
 
Index: linux-3.0-SLE11-SP2/drivers/acpi/acpica/utosi.c
===================================================================
--- linux-3.0-SLE11-SP2.orig/drivers/acpi/acpica/utosi.c
+++ linux-3.0-SLE11-SP2/drivers/acpi/acpica/utosi.c
@@ -73,6 +73,8 @@ static struct acpi_interface_info acpi_d
 	{"Windows 2006 SP1", NULL, 0, ACPI_OSI_WIN_VISTA_SP1},	/* Windows Vista SP1 - Added 09/2009 */
 	{"Windows 2006 SP2", NULL, 0, ACPI_OSI_WIN_VISTA_SP2},	/* Windows Vista SP2 - Added 09/2010 */
 	{"Windows 2009", NULL, 0, ACPI_OSI_WIN_7},	/* Windows 7 and Server 2008 R2 - Added 09/2009 */
+	{"NOT_WINP_KEY", NULL, 0, ACPI_OSI_NOT_WINP_KEY},	/* SLE only WINP workaround for OEMs */
+
 
 	/* Feature Group Strings */
 
