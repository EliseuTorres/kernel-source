From 2a3c526c4527421723474613ee0e7abfe734aea6 Mon Sep 17 00:00:00 2001
From: Kirill Tkhai <ktkhai@parallels.com>
Date: Fri, 7 Nov 2014 14:07:36 +0300
Subject: [PATCH] sched/fair: Kill task_struct::numa_entry and
 numa_group::task_list

References: Automatic NUMA Balancing (fate#315482)
Patch-mainline: v3.19
Git-commit: 753899183c53aa609375b214ea8e040da89119c3

Nobody iterates over numa_group::task_list, this just confuses the readers.

Signed-off-by: Kirill Tkhai <ktkhai@parallels.com>
Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
Cc: Linus Torvalds <torvalds@linux-foundation.org>
Link: http://lkml.kernel.org/r/1415358456.28592.17.camel@tkhai
Signed-off-by: Ingo Molnar <mingo@kernel.org>
Signed-off-by: Mel Gorman <mgorman@suse.de>
---
 kernel/sched/core.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/kernel/sched/core.c b/kernel/sched/core.c
index caa50af0b3d1..4edb7c303f6e 100644
--- a/kernel/sched/core.c
+++ b/kernel/sched/core.c
@@ -1755,7 +1755,6 @@ static void __sched_fork(unsigned long clone_flags, struct task_struct *p)
 	p->last_task_numa_placement = 0;
 	p->last_sum_exec_runtime = 0;
 
-	INIT_LIST_HEAD(&p->numa_entry);
 	p->numa_group = NULL;
 #endif /* CONFIG_NUMA_BALANCING */
 }
