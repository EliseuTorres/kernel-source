From: Trond Myklebust <trond.myklebust@primarydata.com>
Date: Fri, 12 Sep 2014 13:25:14 -0400
Subject: [PATCH] pNFS/blocklayout: Remove a couple of unused variables
Git-commit: 164ae58c3c2a56e99d7ae207499f1fbd5e6f263d
Patch-mainline: v3.18
References: bnc#898675

Cc: Christoph Hellwig <hch@lst.de>
Signed-off-by: Trond Myklebust <trond.myklebust@primarydata.com>
Acked-by: NeilBrown <neilb@suse.de>

---
 fs/nfs/blocklayout/blocklayout.c |    3 +--
 fs/nfs/blocklayout/extent_tree.c |    2 --
 2 files changed, 1 insertion(+), 4 deletions(-)

--- linux-3.12-SLE12.orig/fs/nfs/blocklayout/blocklayout.c
+++ linux-3.12-SLE12/fs/nfs/blocklayout/blocklayout.c
@@ -699,7 +699,6 @@ bl_return_range(struct pnfs_layout_hdr *
 {
 	struct pnfs_block_layout *bl = BLK_LO2EXT(lo);
 	sector_t offset = range->offset >> SECTOR_SHIFT, end;
-	int err;
 
 	if (range->offset % 8) {
 		dprintk("%s: offset %lld not block size aligned\n",
@@ -719,7 +718,7 @@ bl_return_range(struct pnfs_layout_hdr *
 		end = round_down(NFS4_MAX_UINT64, PAGE_SIZE);
 	}
 
-	err = ext_tree_remove(bl, range->iomode & IOMODE_RW, offset, end);
+	ext_tree_remove(bl, range->iomode & IOMODE_RW, offset, end);
 }
 
 static int
--- linux-3.12-SLE12.orig/fs/nfs/blocklayout/extent_tree.c
+++ linux-3.12-SLE12/fs/nfs/blocklayout/extent_tree.c
@@ -165,7 +165,6 @@ __ext_tree_remove(struct rb_root *root,
 {
 	struct pnfs_block_extent *be;
 	sector_t len1 = 0, len2 = 0;
-	sector_t orig_f_offset;
 	sector_t orig_v_offset;
 	sector_t orig_len;
 
@@ -175,7 +174,6 @@ __ext_tree_remove(struct rb_root *root,
 	if (be->be_f_offset >= end)
 		return 0;
 
-	orig_f_offset = be->be_f_offset;
 	orig_v_offset = be->be_v_offset;
 	orig_len = be->be_length;
 
