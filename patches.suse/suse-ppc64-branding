From: <olh@suse.de>
Subject: display the product in the frontpanel LCD
Patch-mainline: never

display the product in the frontpanel LCD
also the uname -r output instead of uname -v.

 arch/powerpc/platforms/pseries/setup.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

Index: linux-2.6.32-SLE11-SP1/arch/powerpc/platforms/pseries/setup.c
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/arch/powerpc/platforms/pseries/setup.c
+++ linux-2.6.32-SLE11-SP1/arch/powerpc/platforms/pseries/setup.c
@@ -40,6 +40,7 @@
 #include <linux/irq.h>
 #include <linux/seq_file.h>
 #include <linux/root_dev.h>
+#include <linux/crash_dump.h>
 
 #include <asm/mmu.h>
 #include <asm/processor.h>
@@ -319,7 +320,10 @@ static void __init pSeries_setup_arch(vo
 static int __init pSeries_init_panel(void)
 {
 	/* Manually leave the kernel version on the panel. */
-	ppc_md.progress("Linux ppc64\n", 0);
+	if (is_kdump_kernel())
+		ppc_md.progress("SUSE Linux crashed :-(\n", 0);
+	else
+		ppc_md.progress("SUSE Linux\n", 0);
 	ppc_md.progress(init_utsname()->version, 0);
 
 	return 0;
