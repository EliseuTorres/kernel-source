From: Jens Axboe <jaxboe@fusionio.com>
Date: Mon, 9 May 2011 08:28:13 +0200
Subject: [PATCH] fs: fixup warning part_discard_alignment_show()
X-Git: bbdd304cf66fbf2b4b2d28418dc619d443635e83
References: FATE#311755
Patch-Mainline: 2.6.38

Stephen reports:

Signed-off-by: Hannes Reinecke <hare@suse.de>
-----

After merging the block tree, today's linux-next build (x86_64
allmodconfig) produced this warning:

fs/partitions/check.c: In function 'part_discard_alignment_show':
fs/partitions/check.c:263: warning: format '%u' expects type 'unsigned int', but argument 3 has type 'long long unsigned int'

Introduced by commit  ("block: Remove extra discard_alignment from
hd_struct")

-----

Fix it up by just removing the cast, we return an int already.

Reported-by: Stephen Rothwell <sfr@canb.auug.org.au>
Signed-off-by: Jens Axboe <jaxboe@fusionio.com>
---
 fs/partitions/check.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/fs/partitions/check.c b/fs/partitions/check.c
index d5bbbe8..e6a6668 100644
--- a/fs/partitions/check.c
+++ b/fs/partitions/check.c
@@ -236,8 +236,7 @@ ssize_t part_discard_alignment_show(struct device *dev,
 	struct gendisk *disk = dev_to_disk(dev);
 
 	return sprintf(buf, "%u\n",
-		       (unsigned long long)queue_limit_discard_alignment(
-							&disk->queue->limits,
+			queue_limit_discard_alignment(&disk->queue->limits,
 							p->start_sect));
 }
 
-- 
1.6.0.2

