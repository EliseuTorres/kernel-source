From 25d0479a5925562fbf999afb5a8daa3f501c729d Mon Sep 17 00:00:00 2001
From: Joe Perches <joe@perches.com>
Date: Fri, 16 Mar 2012 21:43:50 -0700
Subject: drm/ttm: Use pr_fmt and pr_<level>
Patch-mainline: v3.4-rc1

Use the more current logging style.

Add pr_fmt and remove the TTM_PFX uses.
Coalesce formats and align arguments.

Signed-off-by: Joe Perches <joe@perches.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>
Acked-by: Michal Srb <msrb@suse.com>
Automatically created from "patches.drm/1052-drm-ttm-use-pr_fmt-and-pr_-level" by xen-port-patches.py

--- sle11sp3.orig/drivers/gpu/drm/ttm/ttm_page_alloc.c	2013-02-19 15:21:33.000000000 +0100
+++ sle11sp3/drivers/gpu/drm/ttm/ttm_page_alloc.c	2013-02-19 15:51:51.000000000 +0100
@@ -496,8 +496,7 @@ static int ttm_alloc_new_pages(struct li
 			r = xen_limit_pages_to_max_mfn(p, 0, 32);
 			if (r) {
 				__free_page(p);
-				printk(KERN_ERR TTM_PFX
-				       "Cannot restrict page (%d).", r);
+				pr_err("Cannot restrict page (%d)", r);
 				p = NULL;
 			} else if (gfp_flags & __GFP_ZERO)
 				clear_page(page_address(p));
@@ -749,8 +748,7 @@ static int ttm_get_pages(struct page **p
 
 				if (rc) {
 					__free_page(p);
-					printk(KERN_ERR TTM_PFX
-					       "Unable to restrict page (%d).",
+					pr_err("Unable to restrict page (%d)",
 					       rc);
 					return rc;
 				}
