From: Jiri Slaby <jslaby@suse.cz>
Date: Mon, 22 Oct 2012 11:17:34 +0200
Subject: Revert "x86, random: Verify RDRAND functionality and allow it to be
 disabled"
Patch-mainline: never, feature removal

This reverts commit 8b9b3bf4e79b8f41, upstream commit 49d859d78c5aeb.
It is about adding rdrand support and this is not something we want to
have in SP2. This came to us via 3.0.47.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
Automatically created from "patches.suse/0001-Revert-x86-random-Verify-RDRAND-functionality-and-al.patch" by xen-port-patches.py

--- sle11sp2.orig/arch/x86/kernel/cpu/common-xen.c	2012-11-12 10:42:39.000000000 +0100
+++ sle11sp2/arch/x86/kernel/cpu/common-xen.c	2012-11-19 12:15:46.000000000 +0100
@@ -15,7 +15,6 @@
 #include <asm/stackprotector.h>
 #include <asm/perf_event.h>
 #include <asm/mmu_context.h>
-#include <asm/archrandom.h>
 #include <asm/hypervisor.h>
 #include <asm/processor.h>
 #include <asm/sections.h>
@@ -894,7 +893,6 @@ static void __cpuinit identify_cpu(struc
 #endif
 
 	init_hypervisor(c);
-	x86_init_rdrand(c);
 
 	/*
 	 * Clear/Set all flags overriden by options, need do it
