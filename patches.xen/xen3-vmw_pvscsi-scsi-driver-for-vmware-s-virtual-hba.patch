From 851b164231d1117673aa44c00c7622e48b7dfcf4 Mon Sep 17 00:00:00 2001
From: Alok Kataria <akataria@vmware.com>
Date: Tue, 13 Oct 2009 14:51:05 -0700
Subject: [SCSI] vmw_pvscsi: SCSI driver for VMware's virtual HBA.
Patch-mainline: 2.6.33

From: Alok Kataria <akataria@vmware.com>

commit 851b164231d1117673aa44c00c7622e48b7dfcf4 upstream.

This is a driver for VMware's paravirtualized SCSI device,
which should improve disk performance for guests running
under control of VMware hypervisors that support such devices.

Signed-off-by: Alok N Kataria <akataria@vmware.com>
Signed-off-by: James Bottomley <James.Bottomley@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

Automatically created from "patches.drivers/vmw_pvscsi-scsi-driver-for-vmware-s-virtual-hba.patch" by xen-port-patches.py

--- head-2010-01-18.orig/drivers/scsi/Kconfig	2010-01-18 15:18:14.000000000 +0100
+++ head-2010-01-18/drivers/scsi/Kconfig	2010-01-18 17:36:43.000000000 +0100
@@ -633,7 +633,7 @@ config SCSI_FLASHPOINT
 
 config VMWARE_PVSCSI
 	tristate "VMware PVSCSI driver support"
-	depends on PCI && SCSI && X86
+	depends on PCI && SCSI && !XEN && X86
 	help
 	  This driver supports VMware's para virtualized SCSI HBA.
 	  To compile this driver as a module, choose M here: the
