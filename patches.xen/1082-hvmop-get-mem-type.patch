From: http://xenbits.xen.org/hg/linux-2.6.18-xen.hg/rev/b43e88a985e0
# HG changeset patch
# User Keir Fraser <keir@xen.org>
# Date 1305877833 -3600
# Node ID b43e88a985e01d1647ee83411d0b791783c96f84
# Parent  aa2a7493b2027936d4b6224a324f8a7ae65a8e95
Subject: Sync Xen public headers.
References: bnc#684297
Patch-mainline: n/a

Signed-off-by: Keir Fraser <keir@xen.org>

Stripped down to just the hvm/hvm_op.h changes.

Acked-by: jbeulich@novell.com

--- sle11sp1-2011-05-20.orig/include/xen/interface/hvm/hvm_op.h	2010-12-02 13:10:00.000000000 +0100
+++ sle11sp1-2011-05-20/include/xen/interface/hvm/hvm_op.h	2011-05-20 13:45:12.000000000 +0200
@@ -75,6 +75,12 @@ DEFINE_XEN_GUEST_HANDLE(xen_hvm_set_pci_
 /* Flushes all VCPU TLBs: @arg must be NULL. */
 #define HVMOP_flush_tlbs          5
 
+typedef enum {
+    HVMMEM_ram_rw,             /* Normal read/write guest RAM */
+    HVMMEM_ram_ro,             /* Read-only; writes are discarded */
+    HVMMEM_mmio_dm,            /* Reads and write go to the device model */
+} hvmmem_type_t;
+
 /* Following tools-only interfaces may change in future. */
 #if defined(__XEN__) || defined(__XEN_TOOLS__)
 
@@ -108,11 +114,6 @@ typedef struct xen_hvm_modified_memory x
 DEFINE_XEN_GUEST_HANDLE(xen_hvm_modified_memory_t);
 
 #define HVMOP_set_mem_type    8
-typedef enum {
-    HVMMEM_ram_rw,             /* Normal read/write guest RAM */
-    HVMMEM_ram_ro,             /* Read-only; writes are discarded */
-    HVMMEM_mmio_dm,            /* Reads and write go to the device model */
-} hvmmem_type_t;
 /* Notify that a region of memory is to be treated in a specific way. */
 struct xen_hvm_set_mem_type {
     /* Domain to be updated. */
@@ -140,4 +141,18 @@ DEFINE_XEN_GUEST_HANDLE(xen_hvm_pagetabl
 
 #endif /* defined(__XEN__) || defined(__XEN_TOOLS__) */
 
+#define HVMOP_get_mem_type    15
+/* Return hvmmem_type_t for the specified pfn. */
+struct xen_hvm_get_mem_type {
+    /* Domain to be queried. */
+    domid_t domid;
+    /* OUT variable. */
+    uint16_t mem_type;
+    uint16_t pad[2]; /* align next field on 8-byte boundary */
+    /* IN variable. */
+    uint64_t pfn;
+};
+typedef struct xen_hvm_get_mem_type xen_hvm_get_mem_type_t;
+DEFINE_XEN_GUEST_HANDLE(xen_hvm_get_mem_type_t);
+
 #endif /* __XEN_PUBLIC_HVM_HVM_OP_H__ */
