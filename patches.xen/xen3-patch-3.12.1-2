From: Jiri Slaby <jslaby@suse.cz>
Subject: Linux 3.12.2
Patch-mainline: 3.12.2
References: bnc#852581

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
Automatically created from "patches.kernel.org/patch-3.12.1-2" by xen-port-patches.py

--- sle12.orig/arch/x86/kernel/process-xen.c	2013-09-26 15:33:39.000000000 +0200
+++ sle12/arch/x86/kernel/process-xen.c	2014-01-09 11:52:52.000000000 +0100
@@ -383,9 +383,9 @@ static void amd_e400_idle(void)
 		 * The switch back from broadcast mode needs to be
 		 * called with interrupts disabled.
 		 */
-		 local_irq_disable();
-		 clockevents_notify(CLOCK_EVT_NOTIFY_BROADCAST_EXIT, &cpu);
-		 local_irq_enable();
+		local_irq_disable();
+		clockevents_notify(CLOCK_EVT_NOTIFY_BROADCAST_EXIT, &cpu);
+		local_irq_enable();
 	} else
 		default_idle();
 }
