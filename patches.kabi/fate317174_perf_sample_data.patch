From: Tony Jones <tonyj@suse.de>
Subject: Ignore 'data_src'/'weight' changes to perf_sample_data
Date: Tue May  6 18:00:06 PDT 2014
References: bnc#876114, fate#317174
Patch-mainline: Never, kabi
Signed-off-by: Tony Jones <tonyj@suse.de>

Move data_src to end of structure and ignore for KABI.

---
 include/linux/perf_event.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/include/linux/perf_event.h
+++ b/include/linux/perf_event.h
@@ -1205,11 +1205,13 @@ struct perf_sample_data {
 		u32	reserved;
 	}				cpu_entry;
 	u64				period;
-	union  perf_mem_data_src	data_src;
 	struct perf_callchain_entry	*callchain;
 	struct perf_raw_record		*raw;
 	struct perf_branch_stack	*br_stack;
+#ifndef __GENKSYMS__
+	union  perf_mem_data_src	data_src;
 	u64				weight;
+#endif
 };
 
 static inline void perf_sample_data_init(struct perf_sample_data *data,
