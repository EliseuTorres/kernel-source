From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect struct perf_cpu_context
Patch-mainline: never, kabi

In 3.0.98, commit 38770b82bdd3523d92596a0807d3751bb7d25224 (perf:
Clarify perf_cpu_context::active_pmu usage by renaming it to
::unique_pmu), upstream commit 3f1f33206c16c7b3839d71372bc2ac3,
changed a name of one member of struct perf_cpu_context. It indeed
changed layout of that structure.

Let's just ignore that since this is only a rename.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 include/linux/perf_event.h |    4 ++++
 1 file changed, 4 insertions(+)

--- a/include/linux/perf_event.h
+++ b/include/linux/perf_event.h
@@ -943,7 +943,11 @@ struct perf_cpu_context {
 	int				exclusive;
 	struct list_head		rotation_list;
 	int				jiffies_interval;
+#ifdef __GENKSYMS__
+	struct pmu			*active_pmu;
+#else
 	struct pmu			*unique_pmu;
+#endif
 	struct perf_cgroup		*cgrp;
 };
 
