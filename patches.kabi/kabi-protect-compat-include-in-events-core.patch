From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect include in kernel/events/core.c
Patch-mainline: never, kabi

In 3.12.32, commit 470023f49367ce285fc8c5644192e6ab6ea2772b (perf:
Handle compat ioctl), upstream commit
b3f207855f57b9c8f43a547a801340bb5cbc59e5, added an #include into
kernel/events/core.c. It made structs compat_robust_list_head and
iovec visible to the kABI checker. Hence it reports kABI changes now.

So, just protect the include by __GENKSYMS__ to hide it from the
checker.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 kernel/events/core.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/kernel/events/core.c
+++ b/kernel/events/core.c
@@ -39,7 +39,9 @@
 #include <linux/hw_breakpoint.h>
 #include <linux/mm_types.h>
 #include <linux/cgroup.h>
+#ifndef __GENKSYMS__
 #include <linux/compat.h>
+#endif
 
 #include "internal.h"
 
