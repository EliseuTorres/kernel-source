From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect linux/fs.h include in mm/internal.h
Patch-mainline: never, kabi

In 3.12.30, commit 32e8fcae4ace22d053805fe258a2ae78973d4a85
(mm/readahead.c: inline ra_submit), upstream commit
29f175d125f0f3a9503af8a5596f93d714cceb08,
added #include <linux/fs.h> into mm/internal.h. It made struct file
and struct address_space visible to the kABI checker. Hence it reports
kABI changes now.

So, just protect the include by __GENKSYMS__ to hide it from the
checker.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 mm/internal.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/mm/internal.h
+++ b/mm/internal.h
@@ -11,7 +11,9 @@
 #ifndef __MM_INTERNAL_H
 #define __MM_INTERNAL_H
 
+#ifndef __GENKSYMS__
 #include <linux/fs.h>
+#endif
 #include <linux/mm.h>
 
 void free_pgtables(struct mmu_gather *tlb, struct vm_area_struct *start_vma,
