From caa7f29a8c9cf7d10aae7348c0297f78aa368616 Mon Sep 17 00:00:00 2001
From: Michal Marek <mmarek@suse.cz>
Date: Fri, 17 Jan 2014 13:36:47 +0100
Subject: [PATCH] S390: Avoid kabi change due to newly visible structures
Patch-mainline: Never, kabi

<asm/debug.h> includes <linux/fs.h> and makes struct file and struct
address_space visible.

Signed-off-by: Michal Marek <mmarek@suse.cz>
---
 arch/s390/include/asm/pci_debug.h | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/s390/include/asm/pci_debug.h b/arch/s390/include/asm/pci_debug.h
index ac24b26..72ac0db 100644
--- a/arch/s390/include/asm/pci_debug.h
+++ b/arch/s390/include/asm/pci_debug.h
@@ -1,7 +1,10 @@
 #ifndef _S390_ASM_PCI_DEBUG_H
 #define _S390_ASM_PCI_DEBUG_H
 
+#ifndef __GENKSYMS__
+/* Avoid changing kabi checksums due to newly visible structures */
 #include <asm/debug.h>
+#endif
 
 extern debug_info_t *pci_debug_msg_id;
 extern debug_info_t *pci_debug_err_id;
-- 
1.8.4

