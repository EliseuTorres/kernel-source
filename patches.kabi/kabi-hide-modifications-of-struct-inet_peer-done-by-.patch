From: Michal Kubecek <mkubecek@suse.cz>
Date: Wed, 19 Mar 2014 13:46:10 +0100
Subject: kabi: hide modifications of struct inet_peer done by bnc#867953 fix
Patch-mainline: Never, kabi fix
References: bnc#867953

Adding the base_padding member doesn't change the layout but we
need to hide this change from genksyms.

Signed-off-by: Michal Kubecek <mkubecek@suse.cz>
---
 include/net/inetpeer.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/include/net/inetpeer.h b/include/net/inetpeer.h
index 7ae36bd..269c1ca 100644
--- a/include/net/inetpeer.h
+++ b/include/net/inetpeer.h
@@ -36,10 +36,14 @@ struct inet_peer {
 	__u32			avl_height;
 	union {
 		struct list_head	unused;
+#ifdef __GENKSYMS__
+		struct inet_peer_base	*base;
+#else
 		struct {
 			struct inet_peer_base	*base;
 			void			*base_padding;
 		};
+#endif
 	};
 	__u32			dtime;		/* the time of last use of not
 						 * referenced entries */
-- 
1.8.1.4

