From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect struct irq_desc
Patch-mainline: never, kabi

In 3.4.9, commit 26665db4f7fa71c56eeb9205e79927cfc21e70c4 (random:
remove rand_initialize_irq()), upstream commit
c5857ccf293968348e5eb4ebedc68074de3dcda6, removed timer_rand_state
from struct irq_desc. It indeed changed layout of that structure.

Let's re-add it back just to be there.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 include/linux/irqdesc.h |    1 +
 1 file changed, 1 insertion(+)

--- a/include/linux/irqdesc.h
+++ b/include/linux/irqdesc.h
@@ -39,6 +39,7 @@ struct module;
  */
 struct irq_desc {
 	struct irq_data		irq_data;
+	struct timer_rand_state *timer_rand_state; /* unused (kABI) */
 	unsigned int __percpu	*kstat_irqs;
 	irq_flow_handler_t	handle_irq;
 #ifdef CONFIG_IRQ_PREFLOW_FASTEOI
