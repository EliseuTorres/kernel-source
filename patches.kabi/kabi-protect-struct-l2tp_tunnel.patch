From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect struct l2tp_tunnel
Patch-mainline: never, kabi

In 3.0.44, commit 928863a39f0ee (l2tp: avoid to use synchronize_rcu in tunnel
free function), upstream commit 99469c32f79a32d8481f8, added rcu to struct
l2tp_tunnel. It indeed changed layout of that structure.

Let's just ignore that as it is an internal structure.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 net/l2tp/l2tp_core.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/net/l2tp/l2tp_core.h
+++ b/net/l2tp/l2tp_core.h
@@ -157,7 +157,9 @@ struct l2tp_tunnel_cfg {
 
 struct l2tp_tunnel {
 	int			magic;		/* Should be L2TP_TUNNEL_MAGIC */
+#ifndef __GENKSYMS__
 	struct rcu_head rcu;
+#endif
 	rwlock_t		hlist_lock;	/* protect session_hlist */
 	struct hlist_head	session_hlist[L2TP_HASH_SIZE];
 						/* hashed list of sessions,
