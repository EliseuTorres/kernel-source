From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect struct hrtimer_cpu_base
Patch-mainline: never, suse specific

In 3.0.38, commit 62b787f886e2d96cc7c5428aeee05dbe32a9531b (hrtimer:
Provide clock_was_set_delayed()), upstream commit
f55a6faa384304c89cfef162768e88374d3312cb, added clock_was_set to
struct hrtimer_cpu_base and changed type of active_bases there. It
indeed changed layout of that structure.

Let's just ignore that as it is an internal timer structure and nobody
should touch it. Ever.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 include/linux/hrtimer.h |    4 ++++
 1 file changed, 4 insertions(+)

--- a/include/linux/hrtimer.h
+++ b/include/linux/hrtimer.h
@@ -178,8 +178,12 @@ enum  hrtimer_base_type {
  */
 struct hrtimer_cpu_base {
 	raw_spinlock_t			lock;
+#ifdef __GENKSYMS__
+	unsigned long			active_bases;
+#else
 	unsigned int			active_bases;
 	unsigned int			clock_was_set;
+#endif
 #ifdef CONFIG_HIGH_RES_TIMERS
 	ktime_t				expires_next;
 	int				hres_active;
