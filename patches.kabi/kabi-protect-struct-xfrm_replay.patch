From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect struct xfrm_replay
Patch-mainline: never, kabi

In 3.0.46, commit 7218addc4b8b (xfrm: Workaround incompatibility
of ESN and async crypto), upstream commit 3b59df46a449e, added recheck
to struct xfrm_replay. It indeed changed layout of that structure.

Let's just ignore that since it is a structure used only in the xfrm
code.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 include/net/xfrm.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/net/xfrm.h
+++ b/include/net/xfrm.h
@@ -269,9 +269,11 @@ struct xfrm_replay {
 	int	(*check)(struct xfrm_state *x,
 			 struct sk_buff *skb,
 			 __be32 net_seq);
+#ifndef __GENKSYMS__
 	int	(*recheck)(struct xfrm_state *x,
 			   struct sk_buff *skb,
 			   __be32 net_seq);
+#endif
 	void	(*notify)(struct xfrm_state *x, int event);
 	int	(*overflow)(struct xfrm_state *x, struct sk_buff *skb);
 };
