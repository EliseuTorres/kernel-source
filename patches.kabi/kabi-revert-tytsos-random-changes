From: Michal Marek <mmarek@suse.cz>
Subject: kabi: Restore struct irq_desc::timer_rand_state
Patch-mainline: never, kabi

patches.suse/revert-tytsos-random-changes reverted among other commits
also c5857cc ("random: remove rand_initialize_irq()"), which resulted in
the timer_rand_state member being reintroduced in struct irq_desc. The
revert patch has now been replaced by the proper fix, but we need to
keep the timer_rand_state member for kabi compatibility.

Signed-off-by: Michal Marek <mmarek@suse.cz>
---
 include/linux/irqdesc.h |    1 +
 1 file changed, 1 insertion(+)

--- a/include/linux/irqdesc.h
+++ b/include/linux/irqdesc.h
@@ -38,6 +38,7 @@ struct timer_rand_state;
  */
 struct irq_desc {
 	struct irq_data		irq_data;
+	struct timer_rand_state *timer_rand_state; /* kabi workaround, do not use */
 	unsigned int __percpu	*kstat_irqs;
 	irq_flow_handler_t	handle_irq;
 #ifdef CONFIG_IRQ_PREFLOW_FASTEOI
