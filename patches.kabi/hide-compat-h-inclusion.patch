From: Jiri Slaby <jslaby@suse.cz>
Subject: kabi: hide compat.h inclusion
Patch-mainline: never

commit 048cd4e51d24ebf7f3552226d03c769d6ad91658 (compat: fix compile
breakage on s390), upstream 048cd4e51d24ebf7f3552226d03c769d6ad91658
added linux/compat.h inclusion to arch/s390/mm/mmap.c. But this
defined a symbol which causes kabi breakage now.

So hide the inclusion for the __GENKSYMS__ case.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 arch/s390/mm/mmap.c |    4 ++++
 1 file changed, 4 insertions(+)

--- a/arch/s390/mm/mmap.c
+++ b/arch/s390/mm/mmap.c
@@ -28,7 +28,11 @@
 #include <linux/mm.h>
 #include <linux/module.h>
 #include <linux/random.h>
+#ifndef __GENKSYMS__
 #include <linux/compat.h>
+#else
+#include <asm/compat.h>
+#endif
 #include <asm/pgalloc.h>
 
 static unsigned long stack_maxrandom_size(void)
