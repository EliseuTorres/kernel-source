From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect function wl1271_format_buffer
Patch-mainline: never, kabi

In 3.12.43, commit f899923fba56b740dc19fc46f816a324181e1bd0 (wl18xx:
show rx_frames_per_rates as an array as it really is), upstream commit
a3fa71c40f1853d0c27e8f5bc01a722a705d9682, added __printf annotation to
wl1271_format_buffer. It changed the checksum for that function.
Hence we see kABI changes now.

So, protect the annotation by __GENKSYMS__, since it changes the
function in no manner (and it is internal anyway).

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 drivers/net/wireless/ti/wlcore/debugfs.h |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

--- a/drivers/net/wireless/ti/wlcore/debugfs.h
+++ b/drivers/net/wireless/ti/wlcore/debugfs.h
@@ -26,7 +26,10 @@
 
 #include "wlcore.h"
 
-__printf(4, 5) int wl1271_format_buffer(char __user *userbuf, size_t count,
+#ifndef __GENKSYMS__
+__printf(4, 5)
+#endif
+int wl1271_format_buffer(char __user *userbuf, size_t count,
 					loff_t *ppos, char *fmt, ...);
 
 int wl1271_debugfs_init(struct wl1271 *wl);
