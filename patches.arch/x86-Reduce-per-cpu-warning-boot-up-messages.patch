From: Mike Travis <travis@sgi.com>
Subject: x86: Reduce per cpu warning boot up messages
References: bnc#587669, FATE#306952
Patch-mainline: not yet

Reduce warning message output to one line only instead of per
cpu.

Signed-of-by: Mike Travis <travis@sgi.com>
Signed-off-by: Ingo Molnar <mingo@elte.hu>
Signed-off-by: Rafael J. Wysocki <rjw@suse.de>
---
 arch/x86/kernel/process.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-2.6.32-SLE11-SP1/arch/x86/kernel/process.c
===================================================================
--- linux-2.6.32-SLE11-SP1.orig/arch/x86/kernel/process.c
+++ linux-2.6.32-SLE11-SP1/arch/x86/kernel/process.c
@@ -522,7 +522,7 @@ void __cpuinit select_idle_routine(const
 {
 #ifdef CONFIG_SMP
 	if (pm_idle == poll_idle && smp_num_siblings > 1) {
-		printk(KERN_WARNING "WARNING: polling idle and HT enabled,"
+		printk_once(KERN_WARNING "WARNING: polling idle and HT enabled,"
 			" performance may degrade.\n");
 	}
 #endif
