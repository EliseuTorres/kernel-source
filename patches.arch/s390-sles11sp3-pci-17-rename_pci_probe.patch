From: Heiko Carstens <heiko.carstens@de.ibm.com>
Subject: s390/pci: rename pci_probe to s390_pci_probe
Patch-mainline: v3.9-rc1
Git-commit: 1e5635d10d8112e61776b9513491329f7b0859ce
References: bnc#848335,FATE#83037,LTC#94737

pci_probe is too generic and has a name clash with other common code parts.

Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
Acked-by: John Jolly <jjolly@suse.de>
---
 arch/s390/include/asm/pci.h        |    2 +-
 arch/s390/pci/pci.c                |    8 ++++----
 drivers/pci/hotplug/s390_pci_hpc.c |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

--- a/arch/s390/include/asm/pci.h
+++ b/arch/s390/include/asm/pci.h
@@ -188,7 +188,7 @@ void zpci_dma_exit(void);
 extern struct mutex zpci_list_lock;
 extern struct list_head zpci_list;
 extern struct pci_hp_callback_ops hotplug_ops;
-extern unsigned int pci_probe;
+extern unsigned int s390_pci_probe;
 
 /* FMB */
 int zpci_fmb_enable_device(struct zpci_dev *);
--- a/arch/s390/pci/pci.c
+++ b/arch/s390/pci/pci.c
@@ -1069,13 +1069,13 @@ static void zpci_mem_exit(void)
 	kmem_cache_destroy(zdev_fmb_cache);
 }
 
-unsigned int pci_probe = 1;
-EXPORT_SYMBOL_GPL(pci_probe);
+unsigned int s390_pci_probe = 1;
+EXPORT_SYMBOL_GPL(s390_pci_probe);
 
 char * __init pcibios_setup(char *str)
 {
 	if (!strcmp(str, "off")) {
-		pci_probe = 0;
+		s390_pci_probe = 0;
 		return NULL;
 	}
 	return str;
@@ -1085,7 +1085,7 @@ static int __init pci_base_init(void)
 {
 	int rc;
 
-	if (!pci_probe)
+	if (!s390_pci_probe)
 		return 0;
 
 	if (!test_facility(2) || !test_facility(69)
--- a/drivers/pci/hotplug/s390_pci_hpc.c
+++ b/drivers/pci/hotplug/s390_pci_hpc.c
@@ -231,7 +231,7 @@ static int __init pci_hotplug_s390_init(
 	 * right now.
 	 */
 
-	if (!pci_probe)
+	if (!s390_pci_probe)
 		return -EOPNOTSUPP;
 
 	/* register callbacks for slot handling from arch code */
