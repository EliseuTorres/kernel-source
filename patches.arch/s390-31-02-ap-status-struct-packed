From: Martin Schwidefsky <schwidefsky@de.ibm.com>
Subject: ap: Fix ap_queue_status structure declaration.
Patch-mainline: v3.1-rc1
References: bnc#705906
Git-commit: 6bed05bcbc8e5932e06059f0c3be1acdf30a39d4

Symptom: Using struct ap_queue_status as return value fail in
             some cases.
Problem: The struct ap_queue_status is declared unpacked.
Solution: Declare ap_queue_status structure as packed structure.
Problem-id: 73287

Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
Acked-by: Torsten Duwe <duwe@suse.de>

---
 drivers/s390/crypto/ap_bus.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/s390/crypto/ap_bus.h
+++ b/drivers/s390/crypto/ap_bus.h
@@ -73,7 +73,7 @@ struct ap_queue_status {
 	unsigned int int_enabled	: 1;
 	unsigned int response_code	: 8;
 	unsigned int pad2		: 16;
-};
+} __packed;
 
 #define AP_QUEUE_STATUS_INVALID \
 		{ 1, 1, 1, 0xF, 1, 0xFF, 0xFFFF }


