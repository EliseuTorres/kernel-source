From: Alok N Kataria <akataria@vmware.com>
Date: Mon, 28 Jan 2013 18:59:12 -0800
Subject: x86, kvm: Fix intialization warnings in kvm.c
Git-commit: 3b4a505821615b6c055536a0c23ea37c349bb6a9
Patch-mainline: v3.9-rc1
References: FATE#314895, bsc#801138

With commit:

  4cca6ea04d31 ("x86/apic: Allow x2apic without IR on VMware platform")

we started seeing "incompatible initialization" warning messages,
since x2apic_available() expects a bool return type while
kvm_para_available() returns an int.

Reported by: kbuild test robot <fengguang.wu@intel.com>
Signed-off-by: Alok N Kataria <akataria@vmware.com>
Signed-off-by: Ingo Molnar <mingo@kernel.org>
Acked-by: Borislav Petkov <bp@suse.de>
---
 arch/x86/include/asm/kvm_para.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

Index: kernel/arch/x86/include/asm/kvm_para.h
===================================================================
--- kernel.orig/arch/x86/include/asm/kvm_para.h	2014-11-17 20:52:41.700304135 +0100
+++ kernel/arch/x86/include/asm/kvm_para.h	2014-11-17 20:53:57.152304001 +0100
@@ -151,7 +151,7 @@ static inline long kvm_hypercall4(unsign
 	return ret;
 }
 
-static inline int kvm_para_available(void)
+static inline bool kvm_para_available(void)
 {
 	unsigned int eax, ebx, ecx, edx;
 	char signature[13];
@@ -163,9 +163,9 @@ static inline int kvm_para_available(voi
 	signature[12] = 0;
 
 	if (strcmp(signature, "KVMKVMKVM") == 0)
-		return 1;
+		return true;
 
-	return 0;
+	return false;
 }
 
 static inline unsigned int kvm_arch_para_features(void)
