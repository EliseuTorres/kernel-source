From: Gerald Schaefer <geraldsc@de.ibm.com>
Subject: zfcp: disable automatic LUN scanning by default
Patch-mainline: yes
References: bnc#713134

 Automatic LUN scanning for NPIV FCP devices was introduced with
             f8210e34887e1feb977a9b6b8caa086855af40c9
             0d81b4e8dcc4177726f30a1ac8df1f726d2a7c0c
             and replaces unit_add/unit_remove used by existing tools such as
             YaST, zfcp_disk_configure, /etc/udev/rules.d/51-zfcp-*.rules.
             This patch disables scanning by default so tools work unmodified.

Signed-off-by: Gerald Schaefer <geraldsc@de.ibm.com>
Acked-by: Torsten Duwe <duwe@suse.de>

---
 drivers/s390/scsi/zfcp_scsi.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/s390/scsi/zfcp_scsi.c
+++ b/drivers/s390/scsi/zfcp_scsi.c
@@ -27,7 +27,7 @@ static bool enable_dif;
 module_param_named(dif, enable_dif, bool, 0400);
 MODULE_PARM_DESC(dif, "Enable DIF/DIX data integrity support");
 
-static bool allow_lun_scan = 1;
+static bool allow_lun_scan;
 module_param(allow_lun_scan, bool, 0600);
 MODULE_PARM_DESC(allow_lun_scan, "For NPIV, scan and attach all storage LUNs");
 
