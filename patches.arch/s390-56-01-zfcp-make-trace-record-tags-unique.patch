Subject: [PATCH] [BZ 84941] zfcp: Make trace record tags unique
From: Steffen Maier <maier@linux.vnet.ibm.com>
Patch-mainline: not yet, IBM has not submitted
References: bnc#780012,LTC#84941

Symptom:      Zfcp s390dbf trace record tag ambiguity makes problem
              determination unnecessarily more difficult.
Problem:      Duplicate fssrh_2 from upstream commit
              a54ca0f62f953898b05549391ac2a8a4dad6482b
              "[SCSI] zfcp: Redesign of the debug tracing for HBA records."
              complicates distinction of generic status read response
              from local link up.
              Duplicate fsscth1 from upstream commit
              2c55b750a884b86dea8b4cc5f15e1484cc47a25c
              "[SCSI] zfcp: Redesign of the debug tracing for SAN records."
              complicates distinction of good common transport response
              from invalid port handle.
Solution:     Replace duplicates by new unique tags.
Reproduction: -

Acked-by: John Jolly <jjolly@suse.de>
---
 drivers/s390/scsi/zfcp_fsf.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/drivers/s390/scsi/zfcp_fsf.c
+++ b/drivers/s390/scsi/zfcp_fsf.c
@@ -219,7 +219,7 @@ static void zfcp_fsf_status_read_handler
 		return;
 	}
 
-	zfcp_dbf_hba_fsf_uss("fssrh_2", req);
+	zfcp_dbf_hba_fsf_uss("fssrh_4", req);
 
 	switch (sr_buf->status_type) {
 	case FSF_STATUS_READ_PORT_CLOSED:
@@ -885,7 +885,7 @@ static void zfcp_fsf_send_ct_handler(str
 
 	switch (header->fsf_status) {
         case FSF_GOOD:
-		zfcp_dbf_san_res("fsscth1", req);
+		zfcp_dbf_san_res("fsscth2", req);
 		ct->status = 0;
 		break;
         case FSF_SERVICE_CLASS_NOT_SUPPORTED:
