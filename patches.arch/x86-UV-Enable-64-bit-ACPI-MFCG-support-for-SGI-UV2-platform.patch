From: Jack Steiner <steiner@sgi.com>
Subject: x66, UV: Enable 64-bit ACPI MFCG support for SGI UV2 platform
Git-commit: 6885685923ee786f26e7b170e3b961ac0fa14037
Patch-mainline: Yes
References: bnc#744404
    
Enable 64-bit ACPI MFCG support for SGI UV2 platform. The check
is similar to the check on UV1. UV2 has a different oem_id
string.
    
Signed-off-by: Jack Steiner <steiner@sgi.com>
Link: http://lkml.kernel.org/r/20110602195943.GA27079@sgi.com
Signed-off-by: Ingo Molnar <mingo@elte.hu>
Signed-off-by: Rafael J. Wysocki <rjw@suse.de>

---
 arch/x86/pci/mmconfig-shared.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

Index: linux-3.0-SLE11-SP2/arch/x86/pci/mmconfig-shared.c
===================================================================
--- linux-3.0-SLE11-SP2.orig/arch/x86/pci/mmconfig-shared.c
+++ linux-3.0-SLE11-SP2/arch/x86/pci/mmconfig-shared.c
@@ -548,7 +548,8 @@ static int __init acpi_mcfg_check_entry(
 	if (cfg->address < 0xFFFFFFFF)
 		return 0;
 
-	if (!strcmp(mcfg->header.oem_id, "SGI"))
+	if (!strcmp(mcfg->header.oem_id, "SGI") ||
+			!strcmp(mcfg->header.oem_id, "SGI2"))
 		return 0;
 
 	if (mcfg->header.revision >= 1) {
