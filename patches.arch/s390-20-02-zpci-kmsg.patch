From: Gerald Schaefer <gerald.schaefer@de.ibm.com>
Subject: s390/pci: add kmsg man page
Patch-mainline: not yet
Git-commit: -
References: bnc#874145, LTC#109224

Description:  s390/pci: add kmsg man page
Symptom:      There are no s390 kmsg man pages for pci.
Problem:      COMPONENT is defined instead of KMSG_COMPONENT, and the message
              file under Documentation/kmsg/s390/ is missing.
Solution:     Add message file Documentation/kmsg/s390/zpci and define
              KMSG_COMPONENT.
Reproduction: -

Signed-off-by: Gerald Schaefer <gerald.schaefer@de.ibm.com>
Acked-by: John Jolly <jjolly@suse.de>
---
 Documentation/kmsg/s390/pci        |   39 -------------------------------------
 Documentation/kmsg/s390/zpci       |   39 +++++++++++++++++++++++++++++++++++++
 arch/s390/pci/pci.c                |    4 +--
 arch/s390/pci/pci_clp.c            |    4 +--
 arch/s390/pci/pci_debug.c          |    4 +--
 arch/s390/pci/pci_event.c          |    4 +--
 arch/s390/pci/pci_sysfs.c          |    4 +--
 drivers/pci/hotplug/s390_pci_hpc.c |    4 +--
 8 files changed, 51 insertions(+), 51 deletions(-)

--- a/Documentation/kmsg/s390/pci
+++ /dev/null
@@ -1,39 +0,0 @@
-/*?
- * Text: "%s: Event 0x%x reconfigured PCI function 0x%x\n"
- * Severity: Informational
- * Parameter:
- *   @1: device name of the function
- *   @2: PCI event code
- *   @3: function ID
- * Description:
- * The availability of a PCI function has changed.
- * Possible reasons for the change include PCI configuration actions on the
- * Hardware Management Console or hypervisor.
- * For shared PCI functions, the function might also have been reserved or
- * released by another system.
- * If the device name of a function is shown as 'n/a', the device registration
- * with the PCI device driver has not completed.
- * The function ID identifies the function to the I/O configuration (IOCDS).
- * The PCI event code can be useful diagnostic information for your support
- * organization.
- * User action:
- * None.
- */
-
-/*?
- * Text: "%s: Event 0x%x reports an error for PCI function 0x%x\n"
- * Severity: Error
- * Parameter:
- *   @1: device name of the function
- *   @2: PCI event code
- *   @3: function ID
- * Description:
- * A PCI function entered an error state from which it cannot recover
- * automatically.
- * User action:
- * Trigger a recovery action by writing '1' to the 'recovery' sysfs attribute
- * of the PCI function.
- * In sysfs, PCI functions are represented as /sys/bus/pci/devices/<name>,
- * where <name> is the device name of the function.
- * If the problem persists, contact your support organization.
- */
--- /dev/null
+++ b/Documentation/kmsg/s390/zpci
@@ -0,0 +1,39 @@
+/*?
+ * Text: "%s: Event 0x%x reconfigured PCI function 0x%x\n"
+ * Severity: Informational
+ * Parameter:
+ *   @1: device name of the function
+ *   @2: PCI event code
+ *   @3: function ID
+ * Description:
+ * The availability of a PCI function has changed.
+ * Possible reasons for the change include PCI configuration actions on the
+ * Hardware Management Console or hypervisor.
+ * For shared PCI functions, the function might also have been reserved or
+ * released by another system.
+ * If the device name of a function is shown as 'n/a', the device registration
+ * with the PCI device driver has not completed.
+ * The function ID identifies the function to the I/O configuration (IOCDS).
+ * The PCI event code can be useful diagnostic information for your support
+ * organization.
+ * User action:
+ * None.
+ */
+
+/*?
+ * Text: "%s: Event 0x%x reports an error for PCI function 0x%x\n"
+ * Severity: Error
+ * Parameter:
+ *   @1: device name of the function
+ *   @2: PCI event code
+ *   @3: function ID
+ * Description:
+ * A PCI function entered an error state from which it cannot recover
+ * automatically.
+ * User action:
+ * Trigger a recovery action by writing '1' to the 'recovery' sysfs attribute
+ * of the PCI function.
+ * In sysfs, PCI functions are represented as /sys/bus/pci/devices/<name>,
+ * where <name> is the device name of the function.
+ * If the problem persists, contact your support organization.
+ */
--- a/arch/s390/pci/pci.c
+++ b/arch/s390/pci/pci.c
@@ -15,8 +15,8 @@
  *   Thomas Klein
  */
 
-#define COMPONENT "zPCI"
-#define pr_fmt(fmt) COMPONENT ": " fmt
+#define KMSG_COMPONENT "zpci"
+#define pr_fmt(fmt) KMSG_COMPONENT ": " fmt
 
 #include <linux/kernel.h>
 #include <linux/slab.h>
--- a/arch/s390/pci/pci_clp.c
+++ b/arch/s390/pci/pci_clp.c
@@ -5,8 +5,8 @@
  *   Jan Glauber <jang@linux.vnet.ibm.com>
  */
 
-#define COMPONENT "zPCI"
-#define pr_fmt(fmt) COMPONENT ": " fmt
+#define KMSG_COMPONENT "zpci"
+#define pr_fmt(fmt) KMSG_COMPONENT ": " fmt
 
 #include <linux/kernel.h>
 #include <linux/slab.h>
--- a/arch/s390/pci/pci_debug.c
+++ b/arch/s390/pci/pci_debug.c
@@ -5,8 +5,8 @@
  *    Jan Glauber <jang@linux.vnet.ibm.com>
  */
 
-#define COMPONENT "zPCI"
-#define pr_fmt(fmt) COMPONENT ": " fmt
+#define KMSG_COMPONENT "zpci"
+#define pr_fmt(fmt) KMSG_COMPONENT ": " fmt
 
 #include <linux/kernel.h>
 #include <linux/seq_file.h>
--- a/arch/s390/pci/pci_event.c
+++ b/arch/s390/pci/pci_event.c
@@ -5,8 +5,8 @@
  *    Jan Glauber <jang@linux.vnet.ibm.com>
  */
 
-#define COMPONENT "zPCI"
-#define pr_fmt(fmt) COMPONENT ": " fmt
+#define KMSG_COMPONENT "zpci"
+#define pr_fmt(fmt) KMSG_COMPONENT ": " fmt
 
 #include <linux/kernel.h>
 #include <linux/pci.h>
--- a/arch/s390/pci/pci_sysfs.c
+++ b/arch/s390/pci/pci_sysfs.c
@@ -5,8 +5,8 @@
  *   Jan Glauber <jang@linux.vnet.ibm.com>
  */
 
-#define COMPONENT "zPCI"
-#define pr_fmt(fmt) COMPONENT ": " fmt
+#define KMSG_COMPONENT "zpci"
+#define pr_fmt(fmt) KMSG_COMPONENT ": " fmt
 
 #include <linux/kernel.h>
 #include <linux/stat.h>
--- a/drivers/pci/hotplug/s390_pci_hpc.c
+++ b/drivers/pci/hotplug/s390_pci_hpc.c
@@ -7,8 +7,8 @@
  *   Jan Glauber <jang@linux.vnet.ibm.com>
  */
 
-#define COMPONENT "zPCI hpc"
-#define pr_fmt(fmt) COMPONENT ": " fmt
+#define KMSG_COMPONENT "zpci"
+#define pr_fmt(fmt) KMSG_COMPONENT ": " fmt
 
 #include <linux/module.h>
 #include <linux/kernel.h>
