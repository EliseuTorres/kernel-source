From: Linn Crosetto <linn@hp.com>
Subject: FADT: Remove extraneous warning for very large GPE registers.
References: bnc#811088
Patch-mainline: yes, but only in acpica git repo
Git-commit: 8e4a0fc21b053820a6cad696fb59c50155a1c5b4
Git-repo: git://github.com/acpica/acpica

by trenn:
The acpica git repo gets merged into the kernel regularly.
The patches are run through lindent and may differ to what shows up mainline.

https://lkml.org/lkml/2013/3/15/527


This change removes a size mismatch warning if the legacy length
field for a GPE register set is larger than the 64-bit GAS structure
can accomodate. GPE register sets can be larger than the 255 bit limitation
of the GAS structure. Linn Crosetto (linn@hp.com).

Signed-off-by: Thomas Renninger <trenn@suse.de>


Index: linux-3.0-SLE11-SP3/drivers/acpi/acpica/tbfadt.c
===================================================================
--- linux-3.0-SLE11-SP3.orig/drivers/acpi/acpica/tbfadt.c
+++ linux-3.0-SLE11-SP3/drivers/acpi/acpica/tbfadt.c
@@ -522,6 +522,7 @@ static void acpi_tb_validate_fadt(void)
 		 * legacy length field and the corresponding 64-bit X length field.
 		 */
 		if (address64->address &&
+		    ACPI_MUL_8(length) <= ACPI_UINT8_MAX &&
 		    (address64->bit_width != ACPI_MUL_8(length))) {
 			ACPI_WARNING((AE_INFO,
 				      "32/64X length mismatch in %s: %u/%u",
