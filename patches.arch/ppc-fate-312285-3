References: bnc#698548, FATE#312285
Subject: IBM powerpc feature
Patch-mainline: to-be-detemined
From: bugproxy@us.ibm.com

Acked-by: Torsten Duwe <duwe@suse.de>

Index: linux-2.6.32-SLE11-SP2/drivers/serial/8250.c
===================================================================
--- linux-2.6.32-SLE11-SP2.orig/drivers/serial/8250.c
+++ linux-2.6.32-SLE11-SP2/drivers/serial/8250.c
@@ -3213,7 +3213,7 @@ void serial8250_unregister_port(int line
 	if (serial8250_isa_devs) {
 		uart->port.flags &= ~UPF_BOOT_AUTOCONF;
 		uart->port.type = PORT_UNKNOWN;
-		uart->port.dev = &serial8250_isa_devs->dev;
+		uart->capabilities = uart_config[uart->port.type].flags;
 		uart_add_one_port(&serial8250_reg, &uart->port);
 	} else {
 		uart->port.dev = NULL;
