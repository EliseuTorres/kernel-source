From: Heiko Carstens <heiko.carstens@de.ibm.com>
Subject: kernel: fix struct statfs64 definition
Patch-mainline: v3.14-rc1
Git-commit: 4e078146dff728f4865270a47710d57797e81eb6
References: bnc#860346,LTC#103622

Description:  kernel: fix struct statfs64 definition
Symptom:      The statfs64 syscall does not work for 32 bit applications which
              have been compiled using the struct statfs64 definition of a
              3.10 based kernel.
Problem:      The struct statfs64 definition has been incorrectly changed so
              that the size of a couple of structure members is 32 bit instead
              of 64 bit if compiled for 32 bit applications.
Solution:     Change the types of the struct members to the correct size.
Reproduction: -

Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
Acked-by: John Jolly <jjolly@suse.de>
---
 arch/s390/include/uapi/asm/statfs.h |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

--- a/arch/s390/include/uapi/asm/statfs.h
+++ b/arch/s390/include/uapi/asm/statfs.h
@@ -35,11 +35,11 @@ struct statfs {
 struct statfs64 {
 	unsigned int	f_type;
 	unsigned int	f_bsize;
-	unsigned long	f_blocks;
-	unsigned long	f_bfree;
-	unsigned long	f_bavail;
-	unsigned long	f_files;
-	unsigned long	f_ffree;
+	unsigned long long f_blocks;
+	unsigned long long f_bfree;
+	unsigned long long f_bavail;
+	unsigned long long f_files;
+	unsigned long long f_ffree;
 	__kernel_fsid_t f_fsid;
 	unsigned int	f_namelen;
 	unsigned int	f_frsize;
