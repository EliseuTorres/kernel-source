From: Len Brown <len.brown@intel.com>
Subject: intel_idle: disable module support
References: fate#311818,fate#311942
Git-commit: 6e6c0dae2b32736f270c03f853a166c8b11567a0


Signed-off-by: Thomas Renninger <trenn@suse.de>

upstream: 6ce9cd8669fa1195fdc21643370e34523c7ac988

Right now the module capability is cauing more trouble
than it is worth.  At least one distro built intel_idle as a module
where it lost the init race with ACPI, making it useless.

Make intel_idle bool so that if you select it, you will use it.

We can restore module capability after cpuidle is enhanced
to handle run-time changing of idle drivers.

Signed-off-by: Len Brown <len.brown@intel.com>

 drivers/idle/Kconfig |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/idle/Kconfig b/drivers/idle/Kconfig
index fb5c518..82e4e86 100644
--- a/drivers/idle/Kconfig
+++ b/drivers/idle/Kconfig
@@ -1,5 +1,5 @@
 config INTEL_IDLE
-	tristate "Cpuidle Driver for Intel Processors"
+	bool "Cpuidle Driver for Intel Processors"
 	depends on CPU_IDLE
 	depends on X86
 	depends on CPU_SUP_INTEL
