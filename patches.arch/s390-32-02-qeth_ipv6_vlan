From: Gerald Schaefer <geraldsc@de.ibm.com>
Subject: qeth: l3 ipv6 vlan not working on shared OSA chpid
Symptom: In layer 3 mode IPv6 over VLAN does not work on newer OSA
             levels in case the sender and receiver run on the same
             (shared) OSA adapter.
Problem: QDIO hdr does not contain vlan information.
Solution: Add vlan information to QDIO hdr.
References: bnc#709866
Patch-mainline: n/a

Signed-off-by: Gerald Schaefer <geraldsc@de.ibm.com>
Acked-by: Torsten Duwe <duwe@suse.de>

---
 drivers/s390/net/qeth_l3_main.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/s390/net/qeth_l3_main.c
+++ b/drivers/s390/net/qeth_l3_main.c
@@ -3109,7 +3109,6 @@ static int qeth_l3_hard_start_xmit(struc
 			tag = (u16 *)(new_skb->data + 12);
 			*tag = __constant_htons(ETH_P_8021Q);
 			*(tag + 1) = htons(vlan_tx_tag_get(new_skb));
-			new_skb->vlan_tci = 0;
 		}
 	}
 
