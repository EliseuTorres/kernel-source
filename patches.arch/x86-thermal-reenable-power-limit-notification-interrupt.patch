From: Jean Delvare <jdelvare@suse.de>
Subject: x86 thermal: Re-enable power limit notification interrupt by default
References: bnc#882317
Patch-mainline: Never

We want to keep the default of power limit notification interrupt being
enabled for SLES11 SP3. 

Signed-off-by: Jean Delvare <jdelvare@suse.de>
---
 Documentation/kernel-parameters.txt      |    5 ++++-
 arch/x86/kernel/cpu/mcheck/therm_throt.c |    6 +++---
 2 files changed, 7 insertions(+), 4 deletions(-)

--- a/Documentation/kernel-parameters.txt
+++ b/Documentation/kernel-parameters.txt
@@ -1006,7 +1006,10 @@ bytes respectively. Such letter suffixes
 	inport.irq=	[HW] Inport (ATI XL and Microsoft) busmouse driver
 			Format: <irq>
 
-	int_pln_enable  [x86] Enable power limit notification interrupt
+	int_pln_disable	[x86] Disable power limit notification interrupt
+			Note that this is the upstream default since kernel
+			3.11. Upstream has parameter int_pln_enable to enable
+			power limit notification interrupt.
 
 	intel_iommu=	[DMAR] Intel IOMMU driver (DMAR) option
 		on
--- a/arch/x86/kernel/cpu/mcheck/therm_throt.c
+++ b/arch/x86/kernel/cpu/mcheck/therm_throt.c
@@ -211,14 +211,14 @@ static int thresh_event_valid(int event)
 	return 1;
 }
 
-static bool int_pln_enable;
+static bool int_pln_enable = true;
 static int __init int_pln_enable_setup(char *s)
 {
-	int_pln_enable = true;
+	int_pln_enable = false;
 
 	return 1;
 }
-__setup("int_pln_enable", int_pln_enable_setup);
+__setup("int_pln_disable", int_pln_enable_setup);
 
 #ifdef CONFIG_SYSFS
 /* Add/Remove thermal_throttle interface for CPU device: */
